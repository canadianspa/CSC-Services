{"version":3,"sources":["components/Navbar.js","components/shared/CardComponent.js","components/shared/HeaderComponent.js","components/shared/JumbotronComponent.js","components/shared/SelectComponents.js","components/shared/SelectFormComponent.js","components/shared/SpinnerComponent.js","components/shared/MultiSelectComponent.js","components/Shared.js","components/Homepage.js","config.js","api/ApiUtils.js","api/BackendApi.js","components/utils.js","components/import/OrdersTable.js","components/import/OrdersView.js","components/import/FileUploadArea.js","components/import/ImportPageModal.js","components/import/ImportPage.js","components/update/UpdatePage.js","components/calendar/FormView.js","components/calendar/InitialView.js","components/calendar/CalendarPage.js","components/bandq/turnover/TurnoverPage.js","components/bandq/orderwell/OrderWellTable.js","components/bandq/orderwell/OrderWellPage.js","components/bandq/comparison/ComparisonPage.js","components/shipping/create/Parcel.js","components/shipping/create/ParcelsSelect.js","components/shipping/create/CreateShipmentForm.js","components/shipping/create/ShippingCreatePage.js","components/shipping/items/Item.js","components/shipping/items/ItemForm.js","components/shipping/items/ShippingItemsPage.js","components/PageNotFound.js","App.js","index.js"],"names":["Navbar","useState","isOpen","setIsOpen","color","dark","expand","NavbarBrand","href","className","src","alt","NavbarToggler","onClick","Collapse","navbar","Nav","NavLink","UncontrolledDropdown","nav","inNavbar","DropdownToggle","caret","DropdownMenu","right","DropdownItem","Card","header","text","description","Header","children","Jumbotron","Select","value","options","onChange","useObjects","objectTitleKey","multiple","name","style","Input","type","event","target","option","find","_option","map","index","key","SelectForm","onSubmit","optionKey","inputStyle","Form","preventDefault","elements","Spinner","MultiSelect","CardComponent","HeaderComponent","JumbotronComponent","SelectComponents","SelectFormComponent","SpinnerComponent","input","setInput","onDeleteClick","id","currentTarget","filter","parseInt","icon","InputGroup","InputGroupAddon","addonType","Button","Homepage","API_BASE_URL","UPDATE_VENDORS","title","IMPORT_VENDORS","requires_file","file_type","handleResponse","response","ok","json","Error","getTurnover","params","start","end","url","fetch","then","catch","error","console","getOrderWell","getItems","getCarriers","reducer","state","newState","OrdersTable","orders","handleEditClick","handleCheckboxClick","Table","bordered","striped","responsive","size","order","customer","deliver_to_attributes","defaultChecked","first_name","last_name","address1","city","zip","country","OrdersView","file","handleEditAddressClick","handleImportClick","setInitialState","length","FileUploadArea","selectedVendor","handleFileSubmit","onDrop","useCallback","acceptedFiles","useDropzone","accept","getRootProps","getInputProps","ImportPageModal","body","toggle","modalType","addresses","handleUpdateAddress","Modal","ModalHeader","ModalBody","intialState","activeOrderIndex","ImportPage","loading","setLoading","setFile","setOrders","setAddresses","modalOpen","setModalOpen","showInitialView","setShowInitialView","selectedIndexes","setSelectedIndexes","useReducer","pageVariables","setPageVariables","getOrders","vendorName","vendor","method","formData","FormData","append","api","toast","x","idx","marginTop","postcode","checked","headers","JSON","stringify","includes","address","premise","street","posttown","county","tempOrders","UpdatePage","initialVendor","setSelectedVendor","width","height","EventForm","formState","onFormChange","toggleView","date","time","FormGroup","Label","InitialView","calendars","orderUrl","calendar","attendees","summary","marginBottom","initialFormState","CalendarPage","view","setView","setFormState","setCalendars","setOrder","onResponse","number","onSuccess","message","useEffect","FormView","datetime","moment","toISOString","add","TurnoverPage","turnover","setTurnover","currentMonth","format","startOf","endOf","min","max","total_ex_vat","total_with_vat","OrderWellTable","rel","items","item","OrderWell","a","fetchData","range","sel","el","document","getElementById","createRange","window","getSelection","removeAllRanges","selectNodeContents","addRange","e","selectNode","createTextRange","moveToElementText","select","execCommand","intialDatesState","startDate","endDate","focusedInput","ComparisonPage","dates","setDates","sales","setSales","previousSales","setPreviousSales","previousParams","clone","subtract","startDateId","endDateId","onDatesChange","onFocusChange","isOutsideRange","day","isBefore","isAfter","displayFormat","Parcel","parcel","quantity","ParcelsSelect","ref","onOutsideClick","parcels","updateFormState","dropdownRef","useRef","newItem","updatedParcels","findIndex","_id","push","addParcel","splice","deleteParcel","handleClickOutside","current","contains","addEventListener","removeEventListener","CreateShipmentForm","carriers","InputGroupText","placeholder","carrier","services","intialFormState","service","ShippingCreatePage","setCarriers","setItems","reduce","b","weight","shipment","order_url","code","validateShipment","reponse","label","open","write","encodeURI","Item","ItemForm","ShippingItemsPage","onButtonClick","$oid","validateForm","updatedItems","status","handleCreated","i","handleUpdated","handleDeleted","PageNotFound","library","faUpload","faPlus","faPencilAlt","faTrashAlt","faTimes","faChevronDown","App","hideProgressBar","autoClose","exact","path","component","OrderWellPage","ReactDOM","render"],"mappings":"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","file":"static/js/main.ef446029.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\n\r\nimport {\r\n  Navbar as NavigationBar,\r\n  Collapse,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavLink,\r\n  UncontrolledDropdown,\r\n  DropdownToggle,\r\n  DropdownMenu,\r\n  DropdownItem,\r\n} from \"reactstrap\";\r\n\r\nfunction Navbar() {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggle = () => setIsOpen(!isOpen);\r\n\r\n  return (\r\n    <NavigationBar color=\"dark\" dark expand=\"md\">\r\n      <NavbarBrand href=\"/\">\r\n        <img className=\"logo\" src=\"/images/csc-logo.png\" alt=\"logo\" />\r\n      </NavbarBrand>\r\n      <NavbarBrand href=\"/\">CSC Services</NavbarBrand>\r\n      <NavbarToggler onClick={toggle} />\r\n      <Collapse isOpen={isOpen} navbar>\r\n        <Nav className=\"mr-auto\" navbar>\r\n          <NavLink href=\"/update\">Update</NavLink>\r\n          <NavLink href=\"/import\">Import</NavLink>\r\n          <NavLink href=\"/calendar\">Calendar</NavLink>\r\n          <UncontrolledDropdown nav inNavbar>\r\n            <DropdownToggle nav caret>\r\n              {\"B & Q\"}\r\n            </DropdownToggle>\r\n            <DropdownMenu right>\r\n              <DropdownItem>\r\n                <NavLink href=\"/bandq/turnover\">Turnover</NavLink>\r\n              </DropdownItem>\r\n              <DropdownItem>\r\n                <NavLink href=\"/bandq/orderwell\">Order Well</NavLink>\r\n              </DropdownItem>\r\n              <DropdownItem>\r\n                <NavLink href=\"/bandq/comparison\">Sales Comparison</NavLink>\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n          <UncontrolledDropdown nav inNavbar>\r\n            <DropdownToggle nav caret>\r\n              Shipping\r\n            </DropdownToggle>\r\n            <DropdownMenu right>\r\n              <DropdownItem>\r\n                <NavLink href=\"/shipping/create\">Create</NavLink>\r\n              </DropdownItem>\r\n              <DropdownItem>\r\n                <NavLink href=\"/shipping/items\">Items</NavLink>\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </UncontrolledDropdown>\r\n        </Nav>\r\n      </Collapse>\r\n    </NavigationBar>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nfunction Card({ header, text, description }) {\r\n  return (\r\n    <div className=\"card\">\r\n      <label>{header}</label>\r\n      <span>{text}</span>\r\n      {description && <p>{description}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport \"./Shared.css\";\r\n\r\nfunction Header({ children }) {\r\n  return <div className=\"header\">{children}</div>;\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction Jumbotron({ children }) {\r\n  return <div className=\"jumbotron\">{children}</div>;\r\n}\r\n\r\nexport default Jumbotron;\r\n","import React from \"react\";\r\nimport \"./Shared.css\";\r\n\r\nimport { Input } from \"reactstrap\";\r\n\r\nfunction Select({\r\n  value,\r\n  options,\r\n  onChange,\r\n  useObjects,\r\n  objectTitleKey = \"name\",\r\n  multiple,\r\n  name,\r\n  style,\r\n}) {\r\n  function _onChange(event) {\r\n    if (useObjects) {\r\n      const { value, name } = event.target;\r\n\r\n      var option = options.find((_option) => _option[objectTitleKey] === value);\r\n      onChange(option, name);\r\n    } else {\r\n      onChange(event);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Input\r\n      type=\"select\"\r\n      className=\"select\"\r\n      name={name}\r\n      style={style}\r\n      multiple={multiple ? true : false}\r\n      value={value}\r\n      onChange={_onChange}\r\n    >\r\n      {options.map((option, index) => (\r\n        <option key={index}>{useObjects ? option[objectTitleKey] : option}</option>\r\n      ))}\r\n    </Input>\r\n  );\r\n}\r\n\r\nexport default Select;\r\n","import React from \"react\";\r\n\r\nimport { Form, Input } from \"reactstrap\";\r\n\r\nfunction SelectForm({\r\n  options,\r\n  onSubmit,\r\n  useObjects,\r\n  optionKey,\r\n  children,\r\n  inputStyle,\r\n}) {\r\n  function onFormSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const { value } = event.target.elements.option;\r\n\r\n    if (!value) {\r\n      onSubmit(options[0]);\r\n    } else if (useObjects) {\r\n      var option = options.find((_option) => _option[optionKey] === value);\r\n      onSubmit(option);\r\n    } else {\r\n      onSubmit(value);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Form onSubmit={onFormSubmit}>\r\n      <Input name=\"option\" type=\"select\" multiple style={inputStyle}>\r\n        {options.map((option, index) => {\r\n          var value = useObjects ? option[optionKey] : option;\r\n          return (\r\n            <option key={index} value={value}>\r\n              {value}\r\n            </option>\r\n          );\r\n        })}\r\n      </Input>\r\n      {children}\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default SelectForm;\r\n","import React from \"react\";\r\nimport \"./Shared.css\";\r\n\r\nimport { Spinner as ReactStrapSpinner } from \"reactstrap\";\r\n\r\nfunction Spinner({ style }) {\r\n\treturn <ReactStrapSpinner color=\"dark\" className=\"spinner\" style={style} />;\r\n}\r\n\r\nexport default Spinner;\r\n","import React, { useState } from \"react\";\r\nimport \"./Shared.css\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Input, InputGroup, InputGroupAddon, Button } from \"reactstrap\";\r\n\r\nfunction MultiSelect({ name, options, onChange }) {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  function onInputChange(event) {\r\n    const { value } = event.target;\r\n    setInput(value);\r\n  }\r\n\r\n  function onAddClick() {\r\n    if (input !== \"\") {\r\n      var value = [...options, input];\r\n      onChange(value, name);\r\n      setInput(\"\");\r\n    }\r\n  }\r\n\r\n  function onDeleteClick(event) {\r\n    const { id } = event.currentTarget;\r\n\r\n    var value = options.filter((option, index) => index !== parseInt(id));\r\n    onChange(value, name);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {options.map((option, index) => (\r\n        <div key={index} className=\"multiselect-option\">\r\n          <span>{option}</span>\r\n          <button id={index} onClick={onDeleteClick}>\r\n            <FontAwesomeIcon icon=\"times\" />\r\n          </button>\r\n        </div>\r\n      ))}\r\n      <InputGroup>\r\n        <Input name={name} type=\"text\" value={input} onChange={onInputChange} />\r\n        <InputGroupAddon addonType=\"append\">\r\n          <Button onClick={onAddClick}>Add</Button>\r\n        </InputGroupAddon>\r\n      </InputGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MultiSelect;\r\n","import CardComponent from \"./shared/CardComponent\";\r\nimport HeaderComponent from \"./shared/HeaderComponent\";\r\nimport JumbotronComponent from \"./shared/JumbotronComponent\";\r\nimport SelectComponents from \"./shared/SelectComponents\";\r\nimport SelectFormComponent from \"./shared/SelectFormComponent\";\r\nimport SpinnerComponent from \"./shared/SpinnerComponent\";\r\nimport MultiSelectComponent from \"./shared/MultiSelectComponent\";\r\n\r\nexport const Card = CardComponent;\r\nexport const Header = HeaderComponent;\r\nexport const Jumbotron = JumbotronComponent;\r\nexport const Select = SelectComponents;\r\nexport const SelectForm = SelectFormComponent;\r\nexport const Spinner = SpinnerComponent;\r\nexport const MultiSelect = MultiSelectComponent;\r\n","import React from \"react\";\r\n\r\nimport { Jumbotron } from \"./Shared\";\r\n\r\nfunction Homepage() {\r\n  return <Jumbotron>Welcome to Canadian Spa Services</Jumbotron>;\r\n}\r\n\r\nexport default Homepage;\r\n","export const API_BASE_URL =\r\n  process.env.NODE_ENV === \"production\" ? \"/api\" : \"http://localhost:4000/api\";\r\n\r\nexport const UPDATE_VENDORS = [\r\n  { name: \"bandq\", title: \"B&Q\" },\r\n  { name: \"homebase\", title: \"Homebase\" },\r\n  { name: \"jtf\", title: \"JTF\" },\r\n  { name: \"wayfair\", title: \"Wayfair\" },\r\n  { name: \"range\", title: \"The Range\" },\r\n  { name: \"travisperkins\", title: \"Travis Perkins\" },\r\n  { name: \"robert_dyas\", title: \"Robert Dyas\" },\r\n  { name: \"hornbach\", title: \"Hornbach\" },\r\n  { name: \"shop_direct\", title: \"Shop Direct\" },\r\n];\r\n\r\nexport const IMPORT_VENDORS = [\r\n  {\r\n    name: \"bandq\",\r\n    title: \"B&Q CSV\",\r\n    requires_file: true,\r\n    file_type: \".csv\",\r\n  },\r\n  {\r\n    name: \"argos\",\r\n    title: \"Argos CSV\",\r\n    requires_file: true,\r\n    file_type: \".csv\",\r\n  },\r\n  {\r\n    name: \"range\",\r\n    title: \"The Range\",\r\n    requires_file: false,\r\n    file_type: null,\r\n  },\r\n  {\r\n    name: \"homebase\",\r\n    title: \"Homebase XML\",\r\n    requires_file: true,\r\n    file_type: \".xml\",\r\n  },\r\n  {\r\n    name: \"wayfair\",\r\n    title: \"Wayfair CSV\",\r\n    requires_file: true,\r\n    file_type: \".csv\",\r\n  },\r\n  {\r\n    name: \"robert_dyas\",\r\n    title: \"Robert Dyas CSV\",\r\n    requires_file: true,\r\n    file_type: \".csv\",\r\n  },\r\n  {\r\n    name: \"shop_direct\",\r\n    title: \"Shop Direct TXT\",\r\n    requires_file: true,\r\n    file_type: \".txt\",\r\n  },\r\n  {\r\n    name: \"globus\",\r\n    title: \"Globus XML\",\r\n    requires_file: true,\r\n    file_type: \".xml\",\r\n  },\r\n  {\r\n    name: \"hornbach\",\r\n    title: \"Hornbach PDF\",\r\n    requires_file: true,\r\n    file_type: \".pdf\",\r\n  },\r\n];\r\n","export function handleResponse(response) {\r\n  if (response.ok) {\r\n    return response.json();\r\n  } else {\r\n    throw new Error(\"Bad response.\");\r\n  }\r\n}\r\n","import { handleResponse } from \"./ApiUtils\";\r\nimport { API_BASE_URL } from \"../config\";\r\n\r\nexport function convertFile(params) {\r\n  const { vendor, file } = params;\r\n\r\n  let url = `${API_BASE_URL}/import/convert/${vendor}`;\r\n\r\n  let options = {\r\n    method: \"POST\",\r\n  };\r\n\r\n  if (file) {\r\n    let formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    options.body = formData;\r\n  }\r\n\r\n  return fetch(url, options)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function importOrders(params) {\r\n  const { orders } = params;\r\n\r\n  let url = `${API_BASE_URL}/import/orders`;\r\n\r\n  let options = {\r\n    method: \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify(orders),\r\n  };\r\n\r\n  return fetch(url, options)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getPostcodeAddresses(params) {\r\n  const { postcode } = params;\r\n\r\n  let url = `${API_BASE_URL}/postcoder?postcode=${postcode}`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function updateSpreadsheet(params) {\r\n  const { vendor } = params;\r\n\r\n  let url = `${API_BASE_URL}/update/${vendor}`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getTurnover(params) {\r\n  const { start, end } = params;\r\n\r\n  let url = `${API_BASE_URL}/bandq/turnover?start=${start}&end=${end}`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getOrderWell() {\r\n  let url = `${API_BASE_URL}/bandq/orderwell`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getItems() {\r\n  let url = `${API_BASE_URL}/shipping/items`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function updateItem(params) {\r\n  const { id, item } = params;\r\n\r\n  let url = `${API_BASE_URL}/shipping/items`;\r\n\r\n  if (id) {\r\n    url += `?id=${id}`;\r\n  }\r\n\r\n  let options = {\r\n    method: \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify(item),\r\n  };\r\n\r\n  return fetch(url, options)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function deleteItem(params) {\r\n  const { id } = params;\r\n\r\n  let url = `${API_BASE_URL}/shipping/items?id=${id}`;\r\n\r\n  let options = {\r\n    method: \"DELETE\",\r\n  };\r\n\r\n  return fetch(url, options)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getCarriers() {\r\n  let url = `${API_BASE_URL}/shipping/carriers`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function createShipment(params) {\r\n  const { shipment } = params;\r\n\r\n  let url = `${API_BASE_URL}/shipping/create/`;\r\n\r\n  let options = {\r\n    method: \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify(shipment),\r\n  };\r\n\r\n  return fetch(url, options)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getVeeqoOrder(params) {\r\n  const { orderUrl } = params;\r\n\r\n  let url = `${API_BASE_URL}/veeqo?url=${orderUrl}`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function getCalendars() {\r\n  let url = `${API_BASE_URL}/calendar`;\r\n\r\n  return fetch(url)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n\r\nexport function createEvent(params) {\r\n  const { event } = params;\r\n\r\n  let url = `${API_BASE_URL}/calendar`;\r\n\r\n  let options = {\r\n    method: \"POST\",\r\n    headers: { \"content-type\": \"application/json\" },\r\n    body: JSON.stringify(event),\r\n  };\r\n\r\n  return fetch(url, options)\r\n    .then(handleResponse)\r\n    .catch((error) => console.error(error));\r\n}\r\n","import { useEffect } from \"react\";\r\n\r\nexport const reducer = (state, newState) => ({ ...state, ...newState });\r\n\r\nexport function useOutsideClick(ref, onOutsideClick) {\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        onOutsideClick();\r\n      }\r\n    }\r\n\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [ref, onOutsideClick]);\r\n}\r\n","import React from \"react\";\r\nimport \"./ImportPage.css\";\r\n\r\nimport { Table, Button, Input } from \"reactstrap\";\r\n\r\nfunction OrdersTable({ orders, handleEditClick, handleCheckboxClick }) {\r\n  return (\r\n    <Table bordered striped responsive size=\"sm\">\r\n      <thead>\r\n        <tr>\r\n          <th></th>\r\n          <th>First Name</th>\r\n          <th>Last Name</th>\r\n          <th>Address 1</th>\r\n          <th>City</th>\r\n          <th>County</th>\r\n          <th>Postcode</th>\r\n          <th>Country</th>\r\n          <th></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {orders.map((order, index) => {\r\n          let customer = order.deliver_to_attributes;\r\n          return (\r\n            <tr key={index}>\r\n              <td>\r\n                <Input\r\n                  type=\"checkbox\"\r\n                  id={index}\r\n                  defaultChecked=\"true\"\r\n                  onChange={handleCheckboxClick}\r\n                />\r\n              </td>\r\n              <td>{customer.first_name}</td>\r\n              <td>{customer.last_name}</td>\r\n              <td>{customer.address1}</td>\r\n              <td>{customer.city}</td>\r\n              <td>{customer.state}</td>\r\n              <td>{customer.zip}</td>\r\n              <td>{customer.country}</td>\r\n              <th>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  size=\"sm\"\r\n                  id={index}\r\n                  onClick={handleEditClick}\r\n                >\r\n                  Edit Address\r\n                </Button>\r\n              </th>\r\n            </tr>\r\n          );\r\n        })}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport default OrdersTable;\r\n","import React from \"react\";\r\nimport \"./ImportPage.css\";\r\n\r\nimport { Button } from \"reactstrap\";\r\nimport { Header } from \"../Shared\";\r\nimport OrdersTable from \"./OrdersTable\";\r\n\r\nfunction OrdersView({\r\n  orders,\r\n  file,\r\n  handleEditAddressClick,\r\n  handleCheckboxClick,\r\n  handleImportClick,\r\n  setInitialState,\r\n}) {\r\n  return orders.length === 0 ? (\r\n    <>\r\n      <Header>No orders found</Header>\r\n      <Button color=\"danger\" onClick={setInitialState}>\r\n        Back\r\n      </Button>\r\n    </>\r\n  ) : (\r\n    <>\r\n      {file && <Header>File: {file.name}</Header>}\r\n      <OrdersTable\r\n        orders={orders}\r\n        handleCheckboxClick={handleCheckboxClick}\r\n        handleEditClick={handleEditAddressClick}\r\n      />\r\n      <div className=\"centered-parent\">\r\n        <Button color=\"danger\" onClick={setInitialState}>\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleImportClick}>Import</Button>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default OrdersView;\r\n","import React, { useCallback } from \"react\";\r\nimport \"./FileUploadArea.css\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useDropzone } from \"react-dropzone\";\r\n\r\nfunction FileUploadArea({ selectedVendor, handleFileSubmit }) {\r\n\tconst onDrop = useCallback(\r\n\t\t(acceptedFiles) => {\r\n\t\t\tif (acceptedFiles[0]) {\r\n\t\t\t\thandleFileSubmit(selectedVendor.name, acceptedFiles[0]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[selectedVendor, handleFileSubmit]\r\n\t);\r\n\r\n\tconst { getRootProps, getInputProps } = useDropzone({\r\n\t\tonDrop,\r\n\t\tmultiple: false,\r\n\t\taccept: selectedVendor.file_type,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div {...getRootProps()} className=\"dropzone-container\">\r\n\t\t\t<input {...getInputProps()} />\r\n\t\t\t<div className=\"dropzone-content\">\r\n\t\t\t\t<FontAwesomeIcon icon=\"upload\" />\r\n\t\t\t\t<span>Click to upload file ({selectedVendor.file_type})</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default FileUploadArea;\r\n","import React from \"react\";\r\nimport \"./ImportPage.css\";\r\n\r\nimport { Modal, ModalHeader, ModalBody, Button } from \"reactstrap\";\r\nimport { SelectForm } from \"../Shared\";\r\n\r\nfunction ImportPageModal({\r\n  isOpen,\r\n  toggle,\r\n  modalType,\r\n  addresses,\r\n  handleUpdateAddress,\r\n}) {\r\n  let header, body;\r\n  if (modalType === \"editAddress\") {\r\n    header = \"Select address\";\r\n    body = (\r\n      <SelectForm\r\n        options={addresses}\r\n        onSubmit={handleUpdateAddress}\r\n        useObjects={true}\r\n        optionKey=\"summaryline\"\r\n        children={\r\n          <div className=\"button-parent\">\r\n            <Button color=\"danger\" onClick={toggle}>\r\n              Cancel\r\n            </Button>\r\n            <Button color=\"primary\" type=\"submit\">\r\n              Update\r\n            </Button>\r\n          </div>\r\n        }\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Modal isOpen={isOpen}>\r\n      <ModalHeader toggle={toggle}>{header}</ModalHeader>\r\n      <ModalBody>{body}</ModalBody>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default ImportPageModal;\r\n","import React, { useState, useReducer } from \"react\";\r\nimport \"./ImportPage.css\";\r\n\r\nimport { IMPORT_VENDORS } from \"../../config\";\r\nimport * as api from \"../../api/BackendApi\";\r\nimport { reducer } from \"../utils\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { Jumbotron, Spinner, Select, Header } from \"../Shared\";\r\nimport OrdersView from \"./OrdersView\";\r\nimport FileUploadArea from \"./FileUploadArea\";\r\nimport ImportPageModal from \"./ImportPageModal\";\r\n\r\nvar intialState = {\r\n  activeOrderIndex: null,\r\n  selectedVendor: IMPORT_VENDORS[0],\r\n};\r\n\r\nfunction ImportPage() {\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [file, setFile] = useState(null);\r\n  const [orders, setOrders] = useState([]);\r\n  const [addresses, setAddresses] = useState([]);\r\n\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [showInitialView, setShowInitialView] = useState(true);\r\n  const [selectedIndexes, setSelectedIndexes] = useState([]);\r\n  const [pageVariables, setPageVariables] = useReducer(reducer, intialState);\r\n\r\n  const toggle = () => setModalOpen(!modalOpen);\r\n\r\n  function handleVendorChange(vendor) {\r\n    setPageVariables({ selectedVendor: vendor });\r\n\r\n    if (!vendor.requires_file) {\r\n      getOrders(vendor.name);\r\n    }\r\n  }\r\n\r\n  function getOrders(vendorName, file) {\r\n    setLoading(true);\r\n\r\n    var params = {\r\n      vendor: vendorName,\r\n      file: file,\r\n    };\r\n\r\n    api.convertFile(params).then((json) => {\r\n      setLoading(false);\r\n\r\n      if (json.error) {\r\n        toast.dark(\r\n          \"Error getting orders, ensure you are uploading the correct file.\"\r\n        );\r\n      } else {\r\n        setOrders(json);\r\n        setFile(file);\r\n        setSelectedIndexes(json.map((x, idx) => idx));\r\n        setShowInitialView(false);\r\n      }\r\n    });\r\n  }\r\n\r\n  function handleEditAddressClick(event) {\r\n    const { id } = event.target;\r\n    let index = parseInt(id);\r\n\r\n    var params = {\r\n      postcode: orders[index].deliver_to_attributes.zip,\r\n    };\r\n\r\n    api.getPostcodeAddresses(params).then((json) => {\r\n      setPageVariables({ activeOrderIndex: index });\r\n      setAddresses(json);\r\n      setModalOpen(true);\r\n    });\r\n  }\r\n\r\n  function handleUpdateAddress(address) {\r\n    const { premise, street, posttown, county, postcode } = address;\r\n\r\n    let tempOrders = orders.map((order, idx) => {\r\n      if (idx === pageVariables.activeOrderIndex) {\r\n        order.deliver_to_attributes.address1 = premise + \" \" + street;\r\n        order.deliver_to_attributes.city = posttown;\r\n        order.deliver_to_attributes.state = county;\r\n        order.deliver_to_attributes.zip = postcode;\r\n      }\r\n      return order;\r\n    });\r\n\r\n    toggle();\r\n    setOrders(tempOrders);\r\n  }\r\n\r\n  function handleCheckboxClick(event) {\r\n    const { id, checked } = event.target;\r\n\r\n    let index = parseInt(id);\r\n\r\n    setSelectedIndexes(\r\n      checked\r\n        ? [...selectedIndexes, index]\r\n        : selectedIndexes.filter((idx) => idx !== index)\r\n    );\r\n  }\r\n\r\n  function handleImportClick() {\r\n    toast.dark(\"Importing...\");\r\n\r\n    var selectedOrders = orders.filter((order, idx) =>\r\n      selectedIndexes.includes(idx)\r\n    );\r\n\r\n    var params = {\r\n      orders: selectedOrders,\r\n    };\r\n\r\n    api.importOrders(params).then((json) => {\r\n      toast.dark(`Imported ${json.length} orders`);\r\n      setInitialState();\r\n    });\r\n  }\r\n\r\n  function setInitialState() {\r\n    setPageVariables(intialState);\r\n    setOrders([]);\r\n    setShowInitialView(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Import to Veeqo</Jumbotron>\r\n      {showInitialView ? (\r\n        <>\r\n          <Header>Select data source</Header>\r\n          <Select\r\n            options={IMPORT_VENDORS}\r\n            objectTitleKey=\"title\"\r\n            onChange={handleVendorChange}\r\n            useObjects={true}\r\n          />\r\n          {loading ? (\r\n            <Spinner style={{ marginTop: \"60px\" }} />\r\n          ) : (\r\n            <FileUploadArea\r\n              selectedVendor={pageVariables.selectedVendor}\r\n              handleFileSubmit={getOrders}\r\n            />\r\n          )}\r\n        </>\r\n      ) : (\r\n        <OrdersView\r\n          orders={orders}\r\n          file={file}\r\n          handleEditAddressClick={handleEditAddressClick}\r\n          handleCheckboxClick={handleCheckboxClick}\r\n          handleImportClick={handleImportClick}\r\n          setInitialState={setInitialState}\r\n        />\r\n      )}\r\n      <ImportPageModal\r\n        isOpen={modalOpen}\r\n        toggle={toggle}\r\n        modalType={\"editAddress\"}\r\n        addresses={addresses}\r\n        handleUpdateAddress={handleUpdateAddress}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImportPage;\r\n","import React, { useState } from \"react\";\r\n\r\nimport { UPDATE_VENDORS } from \"../../config\";\r\nimport * as api from \"../../api/BackendApi\";\r\n\r\nimport { Button } from \"reactstrap\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Jumbotron, Spinner, Select, Header } from \"../Shared\";\r\n\r\nfunction UpdatePage() {\r\n  const initialVendor = UPDATE_VENDORS[0];\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [selectedVendor, setSelectedVendor] = useState(initialVendor);\r\n\r\n  function handleUpdateClick() {\r\n    setLoading(true);\r\n\r\n    var params = {\r\n      vendor: selectedVendor.name,\r\n    };\r\n\r\n    api.updateSpreadsheet(params).then((orders) => {\r\n      if (orders.length > 0) {\r\n        toast.dark(`Added ${orders.length} order(s)`);\r\n      } else {\r\n        toast.dark(\"No orders added\");\r\n      }\r\n\r\n      setLoading(false);\r\n      setSelectedVendor(initialVendor);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Update Google Spreadsheet</Jumbotron>\r\n      {loading ? (\r\n        <Spinner style={{ width: \"70px\", height: \"70px\", marginTop: \"50px\" }} />\r\n      ) : (\r\n        <>\r\n          <Header>Select Spreadsheet</Header>\r\n          <Select\r\n            options={UPDATE_VENDORS}\r\n            objectTitleKey=\"title\"\r\n            onChange={setSelectedVendor}\r\n            useObjects={true}\r\n          />\r\n          <Button onClick={handleUpdateClick}>Update</Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdatePage;\r\n","import React from \"react\";\r\n\r\nimport { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\r\n\r\nfunction EventForm({ formState, onFormChange, onSubmit, toggleView }) {\r\n  const { title, date, time, length } = formState;\r\n\r\n  return (\r\n    <div style={{ width: \"400px\" }}>\r\n      <FormGroup>\r\n        <Label>Title</Label>\r\n        <Input name=\"title\" type=\"text\" value={title} onChange={onFormChange} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Date</Label>\r\n        <Input type=\"date\" name=\"date\" value={date} onChange={onFormChange} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Time</Label>\r\n        <Input type=\"time\" name=\"time\" value={time} onChange={onFormChange} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Length (min)</Label>\r\n        <Input type=\"select\" name=\"length\" value={length} onChange={onFormChange}>\r\n          <option value=\"15\">15</option>\r\n          <option value=\"30\">30</option>\r\n          <option value=\"45\">45</option>\r\n          <option value=\"60\">60</option>\r\n        </Input>\r\n      </FormGroup>\r\n      <div className=\"centered-parent\">\r\n        <Button color=\"danger\" onClick={toggleView}>\r\n          Back\r\n        </Button>\r\n        <Button onClick={onSubmit}>Create</Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventForm;\r\n","import React from \"react\";\r\nimport \"./CalendarPage.css\";\r\n\r\nimport { Form, FormGroup, Label, Input, Button } from \"reactstrap\";\r\nimport { Select, MultiSelect } from \"../Shared\";\r\n\r\nfunction InitialView({ formState, onFormChange, calendars, toggleView }) {\r\n  const { orderUrl, calendar, attendees } = formState;\r\n\r\n  return (\r\n    <div className=\"event-form\">\r\n      <FormGroup>\r\n        <Label>Veeqo Order URL</Label>\r\n        <Input\r\n          name=\"orderUrl\"\r\n          type=\"text\"\r\n          value={orderUrl}\r\n          onChange={onFormChange}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Select Calendar</Label>\r\n        <Select\r\n          name=\"calendar\"\r\n          options={calendars}\r\n          objectTitleKey=\"summary\"\r\n          value={calendar.summary}\r\n          onChange={onFormChange}\r\n          useObjects={true}\r\n          style={{ marginBottom: \"10px\", width: \"250px\" }}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Attendees</Label>\r\n        <MultiSelect name=\"attendees\" options={attendees} onChange={onFormChange} />\r\n      </FormGroup>\r\n      <Button onClick={toggleView}>Next</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InitialView;\r\n","import React, { useState, useReducer, useEffect } from \"react\";\r\nimport \"./CalendarPage.css\";\r\n\r\nimport moment from \"moment\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport * as api from \"../../api/BackendApi\";\r\nimport { reducer } from \"../utils\";\r\nimport { Jumbotron, Spinner } from \"../Shared\";\r\nimport FormView from \"./FormView\";\r\nimport InitialView from \"./InitialView\";\r\n\r\nconst initialFormState = {\r\n  orderUrl: \"\",\r\n  calendar: null,\r\n  attendees: [],\r\n  title: \"\",\r\n  date: \"\",\r\n  time: \"\",\r\n  length: \"30\",\r\n};\r\n\r\nfunction CalendarPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [view, setView] = useState(\"initial\");\r\n  const [formState, setFormState] = useReducer(reducer, initialFormState);\r\n\r\n  const [calendars, setCalendars] = useState([]);\r\n  const [order, setOrder] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  function fetchData() {\r\n    api.getCalendars().then((response) => {\r\n      onFormChange(response[0], \"calendar\");\r\n      setCalendars(response);\r\n      setLoading(false);\r\n    });\r\n  }\r\n\r\n  function toggleView() {\r\n    if (view === \"initial\") {\r\n      var params = {\r\n        orderUrl: formState.orderUrl,\r\n      };\r\n\r\n      api.getVeeqoOrder(params).then((response) => {\r\n        onResponse(response, () => {\r\n          toast.dark(`Using order ${response.number}`);\r\n          setOrder(response);\r\n          setView(\"form\");\r\n        });\r\n      });\r\n    } else {\r\n      setView(\"initial\");\r\n    }\r\n  }\r\n\r\n  function onFormChange(event, name) {\r\n    if (name) {\r\n      setFormState({ [name]: event });\r\n    } else {\r\n      const { name, value } = event.target;\r\n      setFormState({ [name]: value });\r\n    }\r\n  }\r\n\r\n  function createEvent() {\r\n    const { calendar, title, date, time, length, attendees } = formState;\r\n\r\n    if (title !== \"\" && date !== \"\" && time !== \"\") {\r\n      var datetime = `${date} ${time}`;\r\n      var format = \"YYYY-MM-DD HH-mm\";\r\n      var start = moment(datetime, format);\r\n\r\n      var params = {\r\n        event: {\r\n          order: order,\r\n          calendar: calendar,\r\n          attendees: attendees,\r\n          title: title,\r\n          start: start.toISOString(),\r\n          end: start.add(length, \"minutes\").toISOString(),\r\n        },\r\n      };\r\n\r\n      api.createEvent(params).then((response) => {\r\n        onResponse(response, () => {\r\n          toast.dark(\"Event added successfully\");\r\n          setInitialState();\r\n        });\r\n      });\r\n    } else {\r\n      toast.dark(\"No inputs may be empty\");\r\n    }\r\n  }\r\n\r\n  function onResponse(response, onSuccess) {\r\n    if (response.error) {\r\n      toast.error(response.message);\r\n    } else {\r\n      onSuccess(response);\r\n    }\r\n  }\r\n\r\n  function setInitialState() {\r\n    setFormState({\r\n      ...initialFormState,\r\n      calendar: calendars[0],\r\n    });\r\n    setOrder(null);\r\n    setView(\"initial\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Create Event</Jumbotron>\r\n      {loading ? (\r\n        <Spinner style={{ marginTop: \"120px\" }} />\r\n      ) : view === \"initial\" ? (\r\n        <InitialView\r\n          formState={formState}\r\n          onFormChange={onFormChange}\r\n          calendars={calendars}\r\n          toggleView={toggleView}\r\n        />\r\n      ) : (\r\n        <FormView\r\n          formState={formState}\r\n          onFormChange={onFormChange}\r\n          onSubmit={createEvent}\r\n          toggleView={toggleView}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CalendarPage;\r\n","import React, { useState } from \"react\";\r\nimport \"./TurnoverPage.css\";\r\n\r\nimport * as api from \"../../../api/BackendApi\";\r\n\r\nimport moment from \"moment\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Button, Form, Input } from \"reactstrap\";\r\nimport { Jumbotron, Spinner, Card, Header } from \"../../Shared\";\r\n\r\nfunction TurnoverPage() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [turnover, setTurnover] = useState(null);\r\n\r\n  let currentMonth = moment().format(\"YYYY-MM\");\r\n\r\n  function onSubmit(event) {\r\n    event.preventDefault();\r\n\r\n    const { value } = event.target.elements.date;\r\n\r\n    if (value) {\r\n      setTurnover(null);\r\n      setLoading(true);\r\n\r\n      var params = {\r\n        start: moment(value).startOf(\"month\").format(\"YYYY/MM/DD\"),\r\n        end: moment(value).endOf(\"month\").format(\"YYYY/MM/DD\"),\r\n      };\r\n\r\n      api.getTurnover(params).then((json) => {\r\n        setTurnover(json);\r\n        setLoading(false);\r\n      });\r\n    } else {\r\n      toast.dark(\"Please select a date\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Turnover</Jumbotron>\r\n\r\n      <Form onSubmit={onSubmit} className=\"date-form\">\r\n        <Header>Select Month</Header>\r\n        <Input type=\"month\" name=\"date\" min=\"2017-04\" max={currentMonth} />\r\n        <Button type=\"submit\">Calculate</Button>\r\n      </Form>\r\n\r\n      {loading && <Spinner style={{ marginTop: \"50px\" }} />}\r\n      {turnover && (\r\n        <div className=\"totals-wrapper\">\r\n          <Card header=\"Total excluding VAT\" text={`${turnover.total_ex_vat}`} />\r\n          <Card header=\"Total including VAT\" text={`${turnover.total_with_vat}`} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TurnoverPage;\r\n","import React, { Fragment } from \"react\";\r\nimport \"./OrderWell.css\";\r\n\r\nimport { Table } from \"reactstrap\";\r\n\r\nfunction OrderWellTable({ orders }) {\r\n  return (\r\n    <Table bordered striped size=\"sm\" id=\"orderwell-table\">\r\n      <thead>\r\n        <tr>\r\n          <th>Date</th>\r\n          <th>Order Number</th>\r\n          <th>Items</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {orders.map((order, index) => (\r\n          <tr key={index}>\r\n            <td>{order.date}</td>\r\n            <td>\r\n              <a target=\"_blank\" href={order.url} rel=\"noopener noreferrer\">\r\n                {order.id}\r\n              </a>\r\n            </td>\r\n            <td>\r\n              {order.items.map((item, index) => (\r\n                <Fragment key={index}>\r\n                  {index > 0 && <br />}\r\n                  {item}\r\n                </Fragment>\r\n              ))}\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport default OrderWellTable;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"./OrderWell.css\";\r\n\r\nimport * as api from \"../../../api/BackendApi\";\r\n\r\nimport { Button } from \"reactstrap\";\r\nimport { Jumbotron, Spinner } from \"../../Shared\";\r\nimport OrderWellTable from \"./OrderWellTable\";\r\n\r\nfunction OrderWell() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [orders, setOrders] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  async function fetchData() {\r\n    await api.getOrderWell().then((orders) => {\r\n      setOrders(orders);\r\n      setLoading(false);\r\n    });\r\n  }\r\n\r\n  function handleCopyClick() {\r\n    var el = document.getElementById(\"orderwell-table\");\r\n\r\n    var body = document.body,\r\n      range,\r\n      sel;\r\n    if (document.createRange && window.getSelection) {\r\n      range = document.createRange();\r\n      sel = window.getSelection();\r\n      sel.removeAllRanges();\r\n      try {\r\n        range.selectNodeContents(el);\r\n        sel.addRange(range);\r\n      } catch (e) {\r\n        range.selectNode(el);\r\n        sel.addRange(range);\r\n      }\r\n    } else if (body.createTextRange) {\r\n      range = body.createTextRange();\r\n      range.moveToElementText(el);\r\n      range.select();\r\n    }\r\n    document.execCommand(\"Copy\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Order Well</Jumbotron>\r\n      {loading ? (\r\n        <Spinner style={{ marginTop: \"120px\" }} />\r\n      ) : (\r\n        <>\r\n          <Button onClick={handleCopyClick}>Copy</Button>\r\n          <OrderWellTable orders={orders} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderWell;\r\n","import React, { useReducer, useState } from \"react\";\r\nimport \"./ComparisonPage.css\";\r\n\r\nimport * as api from \"../../../api/BackendApi\";\r\nimport { reducer } from \"../../utils\";\r\n\r\nimport moment from \"moment\";\r\nimport \"react-dates/lib/css/_datepicker.css\";\r\nimport \"react-dates/initialize\";\r\nimport { DateRangePicker } from \"react-dates\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"reactstrap\";\r\nimport { Jumbotron, Header, Spinner, Card } from \"../../Shared\";\r\n\r\nconst intialDatesState = {\r\n  startDate: null,\r\n  endDate: null,\r\n  focusedInput: null,\r\n};\r\n\r\nfunction ComparisonPage() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [dates, setDates] = useReducer(reducer, intialDatesState);\r\n\r\n  const [sales, setSales] = useState(null);\r\n  const [previousSales, setPreviousSales] = useState(null);\r\n\r\n  const setFocusedInput = (focusedInput) => setDates({ focusedInput: focusedInput });\r\n\r\n  async function fetchData(params, previousParams) {\r\n    await api.getTurnover(params).then((json) => {\r\n      setSales(json);\r\n    });\r\n    await api.getTurnover(previousParams).then((json) => {\r\n      setPreviousSales(json);\r\n    });\r\n  }\r\n\r\n  async function onSubmit() {\r\n    const { startDate, endDate } = dates;\r\n\r\n    if (startDate && endDate) {\r\n      setSales(null);\r\n      setPreviousSales(null);\r\n      setLoading(true);\r\n\r\n      var params = {\r\n        start: startDate.format(\"YYYY/MM/DD\"),\r\n        end: endDate.format(\"YYYY/MM/DD\"),\r\n      };\r\n\r\n      var previousParams = {\r\n        start: startDate.clone().subtract(1, \"years\").format(\"YYYY/MM/DD\"),\r\n        end: endDate.clone().subtract(1, \"years\").format(\"YYYY/MM/DD\"),\r\n      };\r\n\r\n      await fetchData(params, previousParams);\r\n\r\n      setLoading(false);\r\n    } else {\r\n      toast.dark(\"Please select both dates\");\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Sales Comparison</Jumbotron>\r\n      <Header>Select Date Range</Header>\r\n      <DateRangePicker\r\n        startDate={dates.startDate}\r\n        startDateId=\"1\"\r\n        endDate={dates.endDate}\r\n        endDateId=\"2\"\r\n        onDatesChange={setDates}\r\n        focusedInput={dates.focusedInput}\r\n        onFocusChange={setFocusedInput}\r\n        isOutsideRange={(day) =>\r\n          day.isBefore(moment(\"04/2018\", \"MM/YYYY\")) || day.isAfter(moment())\r\n        }\r\n        displayFormat=\"DD/MM/YYYY\"\r\n      />\r\n      <Button onClick={onSubmit} className=\"calc-button\">\r\n        Calculate\r\n      </Button>\r\n\r\n      {loading && <Spinner style={{ marginTop: \"50px\" }} />}\r\n      {sales && previousSales && (\r\n        <div className=\"totals-wrapper\">\r\n          <Card\r\n            header={\"Previous Year\"}\r\n            text={previousSales.total_with_vat}\r\n            description={\"*With VAT\"}\r\n          />\r\n          <Card\r\n            header={\"Selected Year\"}\r\n            text={sales.total_with_vat}\r\n            description={\"*With VAT\"}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ComparisonPage;\r\n","import React from \"react\";\r\nimport \"./ParcelsSelect.css\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nfunction Parcel({ parcel, index, onClick }) {\r\n  return (\r\n    <span className=\"parcel-box\">\r\n      <span>\r\n        {parcel.quantity} x {parcel.name}\r\n      </span>\r\n      <button className=\"icon-button\" name=\"delete\" id={index} onClick={onClick}>\r\n        <FontAwesomeIcon icon=\"times\" />\r\n      </button>\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default Parcel;\r\n","import React, { useState, useRef } from \"react\";\r\nimport \"./ParcelsSelect.css\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useOutsideClick } from \"../../utils\";\r\nimport Parcel from \"./Parcel\";\r\n\r\nfunction ParcelsSelect({ items, parcels, updateFormState }) {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggle = () => setIsOpen(!isOpen);\r\n  const empty = () => updateFormState([], \"parcels\");\r\n\r\n  const dropdownRef = useRef(null);\r\n  useOutsideClick(dropdownRef, toggle);\r\n\r\n  function onClick(event) {\r\n    const { id, name } = event.currentTarget;\r\n\r\n    var newItem = { ...items[id] };\r\n    var updatedParcels = [...parcels];\r\n\r\n    if (name === \"add\") {\r\n      var index = updatedParcels.findIndex((item) => item._id === newItem._id);\r\n\r\n      updateFormState(addParcel(updatedParcels, index, newItem), \"parcels\");\r\n    } else if (name === \"delete\") {\r\n      updateFormState(deleteParcel(updatedParcels, id), \"parcels\");\r\n    }\r\n  }\r\n\r\n  function addParcel(updatedParcels, index, newItem) {\r\n    if (index > -1) {\r\n      updatedParcels[index].quantity += 1;\r\n    } else {\r\n      updatedParcels.push({ ...newItem, quantity: 1 });\r\n    }\r\n    return updatedParcels;\r\n  }\r\n\r\n  function deleteParcel(updatedParcels, index) {\r\n    if (updatedParcels[index].quantity > 1) {\r\n      updatedParcels[index].quantity -= 1;\r\n    } else {\r\n      updatedParcels.splice(index, 1);\r\n    }\r\n    return updatedParcels;\r\n  }\r\n\r\n  return (\r\n    <div className=\"items-select\">\r\n      <div className={isOpen ? \"items-bar open\" : \"items-bar\"}>\r\n        <div className=\"items-container\">\r\n          {parcels.map((parcel, index) => (\r\n            <Parcel key={index} index={index} parcel={parcel} onClick={onClick} />\r\n          ))}\r\n        </div>\r\n        <div className=\"filler\" />\r\n        <button className=\"icon-button\" onClick={empty}>\r\n          <FontAwesomeIcon icon=\"times\" />\r\n        </button>\r\n        <button className=\"icon-button\" onClick={toggle}>\r\n          <FontAwesomeIcon icon=\"chevron-down\" />\r\n        </button>\r\n      </div>\r\n      {isOpen && (\r\n        <div className=\"items-dropdown\" ref={dropdownRef}>\r\n          {items.map((item, index) => (\r\n            <button key={index} name=\"add\" id={index} onClick={onClick}>\r\n              {item.name}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ParcelsSelect;\r\n","import React from \"react\";\r\n\r\nimport { Input, InputGroup, InputGroupAddon, InputGroupText } from \"reactstrap\";\r\nimport { Header, Select } from \"../../Shared\";\r\n\r\nfunction CreateShipmentForm({ formState, carriers, onFormChange, updateFormState }) {\r\n  return (\r\n    <>\r\n      <InputGroup style={{ width: \"400px\" }}>\r\n        <InputGroupAddon addonType=\"prepend\">\r\n          <InputGroupText>URL</InputGroupText>\r\n        </InputGroupAddon>\r\n        <Input\r\n          name=\"orderUrl\"\r\n          type=\"text\"\r\n          placeholder=\"Veeqo Order URL\"\r\n          value={formState.orderUrl}\r\n          onChange={onFormChange}\r\n        />\r\n      </InputGroup>\r\n      <Header>Select Carrier</Header>\r\n      <Select\r\n        name=\"carrier\"\r\n        useObjects={true}\r\n        options={carriers}\r\n        onChange={updateFormState}\r\n      />\r\n      <Header>Select Service</Header>\r\n      <Select\r\n        name=\"service\"\r\n        useObjects={true}\r\n        options={formState.carrier.services}\r\n        onChange={updateFormState}\r\n      />\r\n      <Header>Parcels</Header>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CreateShipmentForm;\r\n","import React, { useState, useReducer, useEffect } from \"react\";\r\n\r\nimport * as api from \"../../../api/BackendApi\";\r\nimport { reducer } from \"../../utils\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"reactstrap\";\r\nimport { Jumbotron, Spinner } from \"../../Shared\";\r\nimport ParcelsSelect from \"./ParcelsSelect\";\r\nimport CreateShipmentForm from \"./CreateShipmentForm\";\r\n\r\nconst intialFormState = {\r\n  orderUrl: \"\",\r\n  carrier: null,\r\n  service: null,\r\n  parcels: [],\r\n};\r\n\r\nfunction ShippingCreatePage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [formState, setFormState] = useReducer(reducer, intialFormState);\r\n\r\n  const [carriers, setCarriers] = useState([]);\r\n  const [items, setItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  async function fetchData() {\r\n    await api.getItems().then((items) => {\r\n      setItems(items);\r\n    });\r\n\r\n    await api.getCarriers().then((carriers) => {\r\n      setCarriers(carriers);\r\n      setInitialState(carriers);\r\n    });\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  function onFormChange(event) {\r\n    const { name, value } = event.target;\r\n    setFormState({ [name]: value });\r\n  }\r\n\r\n  function updateFormState(value, name) {\r\n    setFormState({ [name]: value });\r\n  }\r\n\r\n  function handleCreateShipment() {\r\n    var params = {\r\n      shipment: {\r\n        order_url: formState.orderUrl,\r\n        carrier: formState.carrier.code,\r\n        service: formState.service.code,\r\n        parcels: formState.parcels,\r\n      },\r\n    };\r\n\r\n    var valid = validateShipment();\r\n\r\n    if (valid) {\r\n      toast.dark(\"Creating shipment...\");\r\n\r\n      api.createShipment(params).then((reponse) => {\r\n        if (reponse.error) {\r\n          toast.dark(reponse.message);\r\n        } else {\r\n          toast.dark(\"Created shipment\");\r\n\r\n          setInitialState();\r\n          buildLabelWindow(reponse.label);\r\n        }\r\n      });\r\n    } else {\r\n      toast.dark(\"Parcels & Veeqo URL cannot be empty\");\r\n    }\r\n  }\r\n\r\n  function validateShipment() {\r\n    const { parcels, orderUrl } = formState;\r\n\r\n    return parcels.length > 0 && orderUrl !== \"\" ? true : false;\r\n  }\r\n\r\n  function setInitialState(carriers) {\r\n    setFormState(\r\n      carriers\r\n        ? {\r\n            ...intialFormState,\r\n            carrier: carriers[0],\r\n            service: carriers[0].services[0],\r\n          }\r\n        : {\r\n            orderUrl: \"\",\r\n            parcels: [],\r\n          }\r\n    );\r\n  }\r\n\r\n  // prettier-ignore\r\n  function calculateWeight() {\r\n    return formState.parcels.reduce(\r\n      (a, b) => a + b.quantity * b.weight, 0\r\n    );\r\n  }\r\n\r\n  function buildLabelWindow(label) {\r\n    let pdfWindow = window.open(\"\");\r\n\r\n    pdfWindow.document.write(\r\n      \"<iframe width='100%' height='100%' src='data:application/pdf;base64, \" +\r\n        encodeURI(label) +\r\n        \"'></iframe>\"\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Create Shipment</Jumbotron>\r\n      {loading ? (\r\n        <Spinner style={{ marginTop: \"120px\" }} />\r\n      ) : (\r\n        <>\r\n          <CreateShipmentForm\r\n            carriers={carriers}\r\n            formState={formState}\r\n            updateFormState={updateFormState}\r\n            onFormChange={onFormChange}\r\n          />\r\n          <ParcelsSelect\r\n            items={items}\r\n            parcels={formState.parcels}\r\n            updateFormState={updateFormState}\r\n          />\r\n          <h6>Total weight: {calculateWeight()} kg</h6>\r\n          <Button onClick={handleCreateShipment}>Create</Button>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShippingCreatePage;\r\n","import React from \"react\";\r\nimport \"./ShippingItemsPage.css\";\r\n\r\nfunction Item({ item, onClick, formState }) {\r\n  const { name, _id } = item;\r\n\r\n  return (\r\n    <span\r\n      className={_id === formState._id ? \"item-selected item\" : \"item\"}\r\n      onClick={() => onClick(item)}\r\n    >\r\n      {name}\r\n    </span>\r\n  );\r\n}\r\n\r\nexport default Item;\r\n","import React from \"react\";\r\n\r\nimport { Input, FormGroup, Label } from \"reactstrap\";\r\n\r\nfunction ItemForm({ formState, onFormChange }) {\r\n  const { name, height, width, length, weight } = formState;\r\n\r\n  return (\r\n    <>\r\n      <FormGroup>\r\n        <Label>Name</Label>\r\n        <Input type=\"text\" name=\"name\" value={name} onChange={onFormChange} />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Height (cm)</Label>\r\n        <Input\r\n          name=\"height\"\r\n          type=\"number\"\r\n          min={0}\r\n          value={height}\r\n          onChange={onFormChange}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Width (cm)</Label>\r\n        <Input\r\n          name=\"width\"\r\n          type=\"number\"\r\n          min={0}\r\n          value={width}\r\n          onChange={onFormChange}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Length (cm)</Label>\r\n        <Input\r\n          name=\"length\"\r\n          type=\"number\"\r\n          min={0}\r\n          value={length}\r\n          onChange={onFormChange}\r\n        />\r\n      </FormGroup>\r\n      <FormGroup>\r\n        <Label>Weight (kg)</Label>\r\n        <Input\r\n          name=\"weight\"\r\n          type=\"number\"\r\n          min={0}\r\n          value={weight}\r\n          onChange={onFormChange}\r\n        />\r\n      </FormGroup>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ItemForm;\r\n","import React, { useState, useReducer, useEffect } from \"react\";\r\nimport \"./ShippingItemsPage.css\";\r\n\r\nimport * as api from \"../../../api/BackendApi\";\r\nimport { reducer } from \"../../utils\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { Button } from \"reactstrap\";\r\nimport { Jumbotron, Spinner, Header } from \"../../Shared\";\r\nimport Item from \"./Item\";\r\nimport ItemForm from \"./ItemForm\";\r\n\r\nconst intialFormState = {\r\n  _id: null,\r\n  name: \"\",\r\n  height: \"\",\r\n  width: \"\",\r\n  length: \"\",\r\n  weight: \"\",\r\n};\r\n\r\nfunction ShippingItemsPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [items, setItems] = useState(null);\r\n\r\n  const [formState, setFormState] = useReducer(reducer, intialFormState);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  function fetchData() {\r\n    api.getItems().then((items) => {\r\n      setItems(items);\r\n      setLoading(false);\r\n    });\r\n  }\r\n\r\n  function onFormChange(event) {\r\n    const { name, value } = event.target;\r\n    setFormState({ [name]: value });\r\n  }\r\n\r\n  function onCreateClick() {\r\n    setFormState(intialFormState);\r\n  }\r\n\r\n  function onButtonClick(event) {\r\n    const { name } = event.target;\r\n\r\n    var params = {\r\n      id: formState._id ? formState._id.$oid : null,\r\n      item: {\r\n        name: formState.name,\r\n        height: formState.height,\r\n        width: formState.width,\r\n        length: formState.length,\r\n        weight: formState.weight,\r\n      },\r\n    };\r\n\r\n    var valid = validateForm();\r\n\r\n    if (valid) {\r\n      if (name === \"delete\") {\r\n        api.deleteItem(params).then((response) => {\r\n          handleResponse(response);\r\n        });\r\n      } else {\r\n        api.updateItem(params).then((response) => {\r\n          handleResponse(response);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleResponse(response) {\r\n    if (response.error) {\r\n      toast.dark(response.message);\r\n    } else {\r\n      var updatedItems = [...items];\r\n\r\n      if (response.status === \"created\") {\r\n        toast.dark(\"Created item\");\r\n        updatedItems = handleCreated(updatedItems, response);\r\n      } else if (response.status === \"updated\") {\r\n        toast.dark(\"Updated item\");\r\n        updatedItems = handleUpdated(updatedItems, response);\r\n      } else if (response.status === \"deleted\") {\r\n        toast.dark(\"Deleted item\");\r\n        updatedItems = handleDeleted(updatedItems, response);\r\n      }\r\n\r\n      setItems(updatedItems);\r\n    }\r\n  }\r\n\r\n  function handleCreated(updatedItems, response) {\r\n    setFormState(response.item);\r\n    updatedItems.push(response.item);\r\n    return updatedItems;\r\n  }\r\n\r\n  function handleUpdated(updatedItems, response) {\r\n    var i = items.findIndex((item) => item._id.$oid === response.item._id.$oid);\r\n    updatedItems[i] = response.item;\r\n    return updatedItems;\r\n  }\r\n\r\n  function handleDeleted(updatedItems, response) {\r\n    updatedItems = items.filter((item) => item._id.$oid !== response._id);\r\n    setFormState(intialFormState);\r\n    return updatedItems;\r\n  }\r\n\r\n  function validateForm() {\r\n    const { name, height, width, length, weight } = formState;\r\n\r\n    if (\r\n      name === \"\" ||\r\n      height === \"\" ||\r\n      width === \"\" ||\r\n      weight === \"\" ||\r\n      length === \"\"\r\n    ) {\r\n      toast.dark(\"Form elements cannot be empty.\");\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <Jumbotron>Edit Items</Jumbotron>\r\n      {loading ? (\r\n        <Spinner style={{ marginTop: \"120px\" }} />\r\n      ) : (\r\n        <>\r\n          <Button color=\"primary\" size=\"sm\" onClick={onCreateClick}>\r\n            Create Item\r\n          </Button>\r\n          <div className=\"items-menu-container\">\r\n            <div className=\"items-menu\">\r\n              <Header>Items</Header>\r\n              {items.map((item, index) => (\r\n                <Item\r\n                  key={index}\r\n                  item={item}\r\n                  onClick={setFormState}\r\n                  formState={formState}\r\n                />\r\n              ))}\r\n            </div>\r\n            <div className=\"items-form\">\r\n              {formState._id ? (\r\n                <>\r\n                  <Header>Edit Item</Header>\r\n                  <ItemForm formState={formState} onFormChange={onFormChange} />\r\n                  <div className=\"centered-parent\">\r\n                    <Button name=\"delete\" color=\"danger\" onClick={onButtonClick}>\r\n                      Delete\r\n                    </Button>\r\n                    <Button name=\"update\" onClick={onButtonClick}>\r\n                      Update\r\n                    </Button>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <Header>Create Item</Header>\r\n                  <ItemForm formState={formState} onFormChange={onFormChange} />\r\n                  <Button name=\"create\" onClick={onButtonClick}>\r\n                    Create\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ShippingItemsPage;\r\n","import React from \"react\";\r\n\r\nimport { Jumbotron } from \"./Shared\";\r\n\r\nfunction PageNotFound() {\r\n  return <Jumbotron>404 - Page not found</Jumbotron>;\r\n}\r\n\r\nexport default PageNotFound;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport \"./App.css\";\r\n\r\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\r\nimport {\r\n  faUpload,\r\n  faPlus,\r\n  faPencilAlt,\r\n  faTrashAlt,\r\n  faTimes,\r\n  faChevronDown,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport Navbar from \"./components/Navbar\";\r\nimport Homepage from \"./components/Homepage\";\r\nimport ImportPage from \"./components/import/ImportPage\";\r\nimport UpdatePage from \"./components/update/UpdatePage\";\r\nimport CalendarPage from \"./components/calendar/CalendarPage\";\r\nimport TurnoverPage from \"./components/bandq/turnover/TurnoverPage\";\r\nimport OrderWellPage from \"./components/bandq/orderwell/OrderWellPage\";\r\nimport ComparisonPage from \"./components/bandq/comparison/ComparisonPage\";\r\nimport ShippingCreatePage from \"./components/shipping/create/ShippingCreatePage\";\r\nimport ShippingItemsPage from \"./components/shipping/items/ShippingItemsPage\";\r\nimport PageNotFound from \"./components/PageNotFound\";\r\n\r\nlibrary.add({\r\n  faUpload,\r\n  faPlus,\r\n  faPencilAlt,\r\n  faTrashAlt,\r\n  faTimes,\r\n  faChevronDown,\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        <Navbar />\r\n        <ToastContainer hideProgressBar={true} autoClose={3000} />\r\n\r\n        <div className=\"wrapper\">\r\n          <Switch>\r\n            <Route exact path=\"/\" component={Homepage} />\r\n            <Route path=\"/update\" component={UpdatePage} />\r\n            <Route path=\"/import/\" component={ImportPage} />\r\n            <Route path=\"/calendar/\" component={CalendarPage} />\r\n\r\n            <Route path=\"/bandq/turnover\" component={TurnoverPage} />\r\n            <Route path=\"/bandq/orderwell\" component={OrderWellPage} />\r\n            <Route path=\"/bandq/comparison\" component={ComparisonPage} />\r\n\r\n            <Route path=\"/shipping/create\" component={ShippingCreatePage} />\r\n            <Route path=\"/shipping/items\" component={ShippingItemsPage} />\r\n\r\n            <Route component={PageNotFound} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}