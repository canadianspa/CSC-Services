(this["webpackJsonpcsc-frontend"]=this["webpackJsonpcsc-frontend"]||[]).push([[0],{100:function(e,t,a){e.exports={dateForm:"TurnoverPage_dateForm__2bQwd",totalsWrapper:"TurnoverPage_totalsWrapper__3pqXt"}},101:function(e,t,a){e.exports={header:"OrderWell_header__2x1qb",row:"OrderWell_row__1p66N"}},103:function(e,t,a){e.exports={calcButton:"ComparisonPage_calcButton__EFRCb",totalsWrapper:"ComparisonPage_totalsWrapper__3YLmQ"}},104:function(e,t,a){e.exports={note:"Note_note__Z1Yms",noteContent:"Note_noteContent__3JqFB"}},15:function(e,t,a){e.exports={cardWrapper:"Shared_cardWrapper__uprDf",header:"Shared_header__3HYl-",subHeader:"Shared_subHeader__3iBwj",padded:"Shared_padded__2Ov97",dark:"Shared_dark__QaI8L",iconButton:"Shared_iconButton__J3PuP",iconHeader:"Shared_iconHeader__1HYp4",inlineButton:"Shared_inlineButton__2rO-c",centeredButton:"Shared_centeredButton__2opzL",jumbotron:"Shared_jumbotron__3GJCf",multiselectOption:"Shared_multiselectOption__21KNp",select:"Shared_select__3w-93",spinner:"Shared_spinner__Q23k4"}},188:function(e,t,a){e.exports={eventForm:"CalendarPage_eventForm__2nm3k"}},191:function(e,t,a){e.exports={linkWrapper:"LinkMultiSelect_linkWrapper__1vauo"}},192:function(e,t,a){e.exports={infoBox:"InfoBox_infoBox__2HPay"}},200:function(e,t,a){},225:function(e,t,a){},247:function(e,t){},349:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),o=(a(199),a(193)),i=a(18),u=(a(200),a(66)),m=a(27),s=a(19),d=(a(203),a(8)),p=a(352),h=a(353),g=a(354),E=a(355),f=a(356),b=a(357),v=a(358),y=a(377),_=a(375),C=a(376),k=a(359);var O=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],l=t[1];return r.a.createElement(p.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(h.a,{href:"/"},r.a.createElement("img",{alt:"logo",src:"/images/csc-logo.png"})),r.a.createElement(h.a,{href:"/"},"CSC Services"),r.a.createElement(g.a,{onClick:function(){return l(!a)}}),r.a.createElement(E.a,{isOpen:a,navbar:!0},r.a.createElement(f.a,{className:"mr-auto",navbar:!0},r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"/update"},"Update")),r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"/import"},"Import")),r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"/calendar"},"Calendar")),r.a.createElement(y.a,{nav:!0,inNavbar:!0,style:{backgroundColor:"#343a40"}},r.a.createElement(_.a,{nav:!0,caret:!0},"B & Q"),r.a.createElement(C.a,{right:!0,style:{backgroundColor:"#343a40"}},r.a.createElement(k.a,{style:{backgroundColor:"#343a40"}},r.a.createElement(v.a,{href:"/bandq/turnover",style:{padding:"0"}},"Turnover")),r.a.createElement(k.a,{style:{backgroundColor:"#343a40"}},r.a.createElement(v.a,{href:"/bandq/orderwell",style:{padding:"0"}},"Order Well")),r.a.createElement(k.a,{style:{backgroundColor:"#343a40"}},r.a.createElement(v.a,{href:"/bandq/comparison",style:{padding:"0"}},"Sales Comparison")))),r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"/portables"},"Portables")),r.a.createElement(b.a,null,r.a.createElement(v.a,{href:"/guides"},"Guides")))))},S=a(15),w=a.n(S);var j=function(e){var t=e.header,a=e.text,n=e.description;return r.a.createElement("div",{className:w.a.cardWrapper},r.a.createElement("label",null,t),r.a.createElement("span",null,a),n&&r.a.createElement("p",null,n))};var x=function(e){var t=e.children,a=e.style,n=e.dark,l=e.padded,c=w.a.header;return n&&(c+=" "+w.a.dark),l&&(c+=" "+w.a.padded),r.a.createElement("div",{className:c,style:a},t)};var N=function(e){var t=e.children;return r.a.createElement("div",{className:w.a.jumbotron},t)},T=a(360);var Y=function(e){var t=e.value,a=e.options,n=e.onChange,l=e.useObjects,c=e.objectTitleKey,o=void 0===c?"name":c,i=e.multiple,u=e.name,m=e.style;return r.a.createElement(T.a,{type:"select",className:w.a.select,name:u,style:m,multiple:!!i,value:t,onChange:function(e){if(l){var t=e.target,r=t.value,c=t.name,i=a.find((function(e){return e[o]===r}));n(i,c)}else n(e)}},a.map((function(e,t){return r.a.createElement("option",{key:t,disabled:!!e.disabled},l?e[o]:e)})))},P=a(361);var D=function(e){var t=e.options,a=e.onSubmit,n=e.useObjects,l=e.optionKey,c=e.children,o=e.inputStyle;return r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault();var r=e.target.elements.option.value;if(r)if(n){var c=t.find((function(e){return e[l]===r}));a(c)}else a(r);else a(t[0])}},r.a.createElement(T.a,{name:"option",type:"select",multiple:!0,style:o},t.map((function(e,t){var a=n?e[l]:e;return r.a.createElement("option",{key:t,value:a},a)}))),c)},F=a(362);var A=function(e){var t=e.style;return r.a.createElement(F.a,{color:"dark",className:w.a.spinner,style:t})},I=a(29),M=(a(225),a(26)),V=a(186),q=a.n(V);var G=j,R=x,B=N,U=Y,W=D,L=A,H=function(e){var t=e.options,a=e.onChange,l=e.predefinedSuggestions,c=e.name,o=e.placeholder,i=e.useEvent,u=Object(n.useState)(""),m=Object(d.a)(u,2),s=m[0],p=m[1],h=Object(n.useState)([]),g=Object(d.a)(h,2),E=g[0],f=g[1];function b(e){""!==s&&(y([].concat(Object(I.a)(t),e?[e]:[s])),p(""))}function v(e){var a=e.currentTarget.id;y(t.filter((function(e,t){return t!==parseInt(a)})))}function y(e){i?a({target:{name:c,value:e}}):a(e,c)}var _={placeholder:o,className:"form-control",value:s,onChange:function(e,t){var a=t.newValue;p(a)},onKeyPress:function(e){"Enter"===e.key&&b(s)}};return r.a.createElement("div",null,t.map((function(e,t){return r.a.createElement("div",{key:t,className:w.a.multiselectOption},r.a.createElement("span",null,e),r.a.createElement("button",{id:t,onClick:v},r.a.createElement(M.a,{icon:"times"})))})),r.a.createElement(q.a,{suggestions:E,onSuggestionsFetchRequested:function(e){var t=e.value;f(l.filter((function(e){return e.toLowerCase().includes(t)})))},onSuggestionsClearRequested:function(){return f([])},onSuggestionSelected:function(e,t){return b(t.suggestion)},getSuggestionValue:function(e){return e},renderSuggestion:function(e){return e},inputProps:_}))},z=function(e){var t=e.children,a=e.style;return r.a.createElement("div",{className:t.length>1?w.a.inlineButton:w.a.centeredButton,style:a},t)},K=function(e){var t=e.children,a=e.icon,n=e.name,l=e.onClick,c=e.style;return r.a.createElement("div",{className:w.a.iconHeader,style:c},r.a.createElement(x,null,t),r.a.createElement("button",{name:n,onClick:l},r.a.createElement(M.a,{icon:a})))};var Q=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Welcome to Canadian Spa Services"),r.a.createElement(R,null,"Guides to using this site can be found ",r.a.createElement("a",{href:"/guides"},"here.")))},J="/api",X=[{name:"bandq",title:"B&Q"},{name:"homebase",title:"Homebase"},{name:"jtf",title:"JTF"},{name:"wayfair",title:"Wayfair"},{name:"range",title:"The Range"},{name:"travisperkins",title:"Travis Perkins"},{name:"robert_dyas",title:"Robert Dyas"},{name:"hornbach",title:"Hornbach"},{name:"shop_direct",title:"Shop Direct"}],Z=[{name:"bandq",title:"B&Q CSV",requires_file:!0,file_type:".csv"},{name:"argos",title:"Argos CSV",requires_file:!0,file_type:".csv"},{name:"range",title:"The Range",requires_file:!1,file_type:null},{name:"range_store",title:"Range Store CSV",requires_file:!0,file_type:".csv"},{name:"homebase",title:"Homebase XML",requires_file:!0,file_type:".xml"},{name:"wayfair",title:"Wayfair CSV",requires_file:!0,file_type:".csv"},{name:"robert_dyas",title:"Robert Dyas CSV",requires_file:!0,file_type:".csv"},{name:"shop_direct",title:"Shop Direct TXT",requires_file:!0,file_type:".txt",disabled:!0},{name:"globus",title:"Globus XML",requires_file:!0,file_type:".xml"},{name:"hornbach",title:"Hornbach PDF",requires_file:!0,file_type:".pdf",disabled:!0}],$=["warehouseuk@canadianspacompany.com","shippinguk@canadianspacompany.com","jasper.haward@canadianspacompany.com","kerry.avis@canadianspacompany.com","grace.wetherall@canadianspacompany.com","phil@canadianspacompany.com","tony@canadianspacompany.com","troy@canadianspacompany.com","troy.d.labelle@gmail.com","troylabellespa@googlemail.com","david.knight@canadianspacompany.com","gary.beadell@canadianspacompany.com","kerry.williams@canadianspacompany.com","tony.greig@canadianspacompany.com","adam.miller@canadianspacompany.com"],ee=["Grand Rapids 2014 - 2016","Rio Grande 2014 - 2016","Swift Current 2014 - 2016","Muskoka 2012 - 2016","Grand Rapids V2 2017","Rio Grande V2 2017","Swift Current V2 2017","Muskoka V2 2017"];function te(e){if(e.ok)return e.json();throw new Error("Bad response.")}function ae(e){var t=e.start,a=e.end,n="".concat(J,"/bandq/turnover?start=").concat(t,"&end=").concat(a);return fetch(n).then(te).catch((function(e){return console.error(e)}))}function ne(e){var t=e.database,a=e.collection,n=e.body,r=e._id,l="".concat(J,"/database/").concat(t,"/").concat(a,"/").concat(r),c={method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify(n)};return fetch(l,c).then(te).catch((function(e){return console.error(e)}))}var re=a(30),le=function(e,t){return Object(re.a)(Object(re.a)({},e),t)};var ce=a(183),oe=a(98),ie=a.n(oe),ue=a(363);var me=function(e){var t=e.orders,a=e.handleEditClick,n=e.handleCheckboxClick;return r.a.createElement(ue.a,{bordered:!0,striped:!0,responsive:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Address 1"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"County"),r.a.createElement("th",null,"Postcode"),r.a.createElement("th",null,"Country"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e,t){var l=e.deliver_to_attributes;return r.a.createElement("tr",{key:t,className:ie.a.row},r.a.createElement("td",null,r.a.createElement(T.a,{type:"checkbox",className:ie.a.checkbox,id:t,defaultChecked:"true",onChange:n})),r.a.createElement("td",null,l.first_name),r.a.createElement("td",null,l.last_name),r.a.createElement("td",null,l.address1),r.a.createElement("td",null,l.city),r.a.createElement("td",null,l.state),r.a.createElement("td",null,l.zip),r.a.createElement("td",null,l.country),r.a.createElement("th",null,r.a.createElement(ce.a,{color:"secondary",size:"sm",id:t,onClick:a},"Edit Address")))}))))};var se=function(e){var t=e.orders,a=e.file,n=e.handleEditAddressClick,l=e.handleCheckboxClick,c=e.handleImportClick,o=e.setInitialState;return 0===t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null,"No orders found"),r.a.createElement(ce.a,{color:"danger",onClick:o},"Back")):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(R,null,"File: ",a.name),r.a.createElement(me,{orders:t,handleCheckboxClick:l,handleEditClick:n}),r.a.createElement(z,null,r.a.createElement(ce.a,{color:"danger",onClick:o},"Cancel"),r.a.createElement(ce.a,{onClick:c},"Import")))},de=a(99),pe=a.n(de),he=a(194);var ge=function(e){var t=e.selectedVendor,a=e.handleFileSubmit,l=Object(n.useCallback)((function(e){e[0]&&a(t.name,e[0])}),[t,a]),c=Object(he.a)({onDrop:l,multiple:!1,accept:t.file_type}),o=c.getRootProps,i=c.getInputProps;return r.a.createElement("div",Object.assign({},o(),{className:pe.a.dropzoneContainer}),r.a.createElement("input",i()),r.a.createElement("div",{className:pe.a.dropzoneContent},r.a.createElement(M.a,{icon:"upload"}),r.a.createElement("span",null,"Click to upload file (",t.file_type,")")))},Ee=a(374),fe=a(364),be=a(365);var ve=function(e){var t,a,n=e.isOpen,l=e.toggle,c=e.modalType,o=e.addresses,i=e.handleUpdateAddress;return"editAddress"===c&&(t="Select address",a=r.a.createElement(W,{options:o,onSubmit:i,useObjects:!0,optionKey:"summaryline",children:r.a.createElement(z,{style:{marginTop:"20px"}},r.a.createElement(ce.a,{color:"danger",onClick:l},"Cancel"),r.a.createElement(ce.a,{color:"primary",type:"submit"},"Update"))})),r.a.createElement(Ee.a,{isOpen:n},r.a.createElement(fe.a,{toggle:l},t),r.a.createElement(be.a,null,a))},ye={activeOrderIndex:null,selectedVendor:Z[0]};var _e=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(d.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)([]),p=Object(d.a)(m,2),h=p[0],g=p[1],E=Object(n.useState)([]),f=Object(d.a)(E,2),b=f[0],v=f[1],y=Object(n.useState)(!1),_=Object(d.a)(y,2),C=_[0],k=_[1],O=Object(n.useState)(!0),S=Object(d.a)(O,2),w=S[0],j=S[1],x=Object(n.useState)([]),N=Object(d.a)(x,2),T=N[0],Y=N[1],P=Object(n.useReducer)(le,ye),D=Object(d.a)(P,2),F=D[0],A=D[1],M=function(){return k(!C)};function V(e,t){l(!0),function(e){var t=e.vendor,a=e.file,n="".concat(J,"/import/convert/").concat(t),r={method:"POST"};if(a){var l=new FormData;l.append("file",a),r.body=l}return fetch(n,r).then(te).catch((function(e){return console.error(e)}))}({vendor:e,file:t}).then((function(e){l(!1),e.error?s.b.dark("Error getting orders, ensure you are uploading the correct file."):(g(e),u(t),Y(e.map((function(e,t){return t}))),j(!1))}))}function q(){A(ye),g([]),j(!0)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Import to Veeqo"),w?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null,"Select data source"),r.a.createElement(U,{options:Z,objectTitleKey:"title",onChange:function(e){A({selectedVendor:e}),e.requires_file||V(e.name)},useObjects:!0}),a?r.a.createElement(L,{style:{marginTop:"60px"}}):r.a.createElement(ge,{selectedVendor:F.selectedVendor,handleFileSubmit:V})):r.a.createElement(se,{orders:h,file:i,handleEditAddressClick:function(e){var t=e.target.id,a=parseInt(t);(function(e){var t=e.postcode,a="".concat(J,"/postcoder?postcode=").concat(t);return fetch(a).then(te).catch((function(e){return console.error(e)}))})({postcode:h[a].deliver_to_attributes.zip}).then((function(e){A({activeOrderIndex:a}),v(e),k(!0)}))},handleCheckboxClick:function(e){var t=e.target,a=t.id,n=t.checked,r=parseInt(a);Y(n?[].concat(Object(I.a)(T),[r]):T.filter((function(e){return e!==r})))},handleImportClick:function(){s.b.dark("Importing..."),function(e){var t=e.orders,a="".concat(J,"/import/orders"),n={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)};return fetch(a,n).then(te).catch((function(e){return console.error(e)}))}({orders:h.filter((function(e,t){return T.includes(t)}))}).then((function(e){s.b.dark("Imported ".concat(e.length," orders")),q()}))},setInitialState:q}),r.a.createElement(ve,{isOpen:C,toggle:M,modalType:"editAddress",addresses:b,handleUpdateAddress:function(e){var t=e.premise,a=e.street,n=e.posttown,r=e.county,l=e.postcode,c=h.map((function(e,c){return c===F.activeOrderIndex&&(e.deliver_to_attributes.address1=t+" "+a,e.deliver_to_attributes.city=n,e.deliver_to_attributes.state=r,e.deliver_to_attributes.zip=l),e}));M(),g(c)}}))};var Ce=function(){var e=X[0],t=Object(n.useState)(!1),a=Object(d.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(e),i=Object(d.a)(o,2),u=i[0],m=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Update Google Spreadsheet"),l?r.a.createElement(L,{style:{width:"70px",height:"70px",marginTop:"50px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null,"Select Spreadsheet"),r.a.createElement(U,{options:X,objectTitleKey:"title",onChange:m,useObjects:!0}),r.a.createElement(ce.a,{onClick:function(){c(!0),function(e){var t=e.vendor,a="".concat(J,"/update/").concat(t);return fetch(a).then(te).catch((function(e){return console.error(e)}))}({vendor:u.name}).then((function(t){t.length>0?s.b.dark("Added ".concat(t.length," order(s)")):s.b.dark("No orders added"),c(!1),m(e)}))}},"Update")))},ke=a(36),Oe=a(7),Se=a.n(Oe),we=a(366),je=a(367);var xe=function(e){var t=e.formState,a=e.onFormChange,n=e.onSubmit,l=e.toggleView,c=t.title,o=t.date,i=t.time,u=t.length;return r.a.createElement("div",{style:{width:"400px"}},r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Title"),r.a.createElement(T.a,{name:"title",type:"text",value:c,onChange:a})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Date"),r.a.createElement(T.a,{type:"date",name:"date",value:o,onChange:a})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Time"),r.a.createElement(T.a,{type:"time",name:"time",value:i,onChange:a})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Length (min)"),r.a.createElement(T.a,{type:"select",name:"length",value:u,onChange:a},r.a.createElement("option",{value:"15"},"15"),r.a.createElement("option",{value:"30"},"30"),r.a.createElement("option",{value:"45"},"45"),r.a.createElement("option",{value:"60"},"60"))),r.a.createElement(z,null,r.a.createElement(ce.a,{color:"danger",onClick:l},"Back"),r.a.createElement(ce.a,{onClick:n},"Create")))},Ne=a(188),Te=a.n(Ne);var Ye=function(e){var t=e.formState,a=e.onFormChange,n=e.calendars,l=e.emails,c=e.toggleView,o=t.orderUrl,i=t.calendar,u=t.attendees;return r.a.createElement("div",{className:Te.a.eventForm},r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Veeqo Order URL"),r.a.createElement(T.a,{name:"orderUrl",type:"text",placeholder:"URL",value:o,onChange:a})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Select Calendar"),r.a.createElement(U,{name:"calendar",options:n,objectTitleKey:"summary",value:i.summary,onChange:a,useObjects:!0,style:{marginBottom:"10px",width:"250px"}})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Attendees"),r.a.createElement(H,{name:"attendees",placeholder:"Email",options:u,onChange:a,predefinedSuggestions:l})),r.a.createElement(ce.a,{onClick:c},"Next"))},Pe={orderUrl:"",calendar:null,attendees:[$[0]],title:"",date:Se()().format("YYYY-MM-DD"),time:"",length:"30"};var De=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)("initial"),o=Object(d.a)(c,2),i=o[0],u=o[1],m=Object(n.useReducer)(le,Pe),p=Object(d.a)(m,2),h=p[0],g=p[1],E=Object(n.useState)([]),f=Object(d.a)(E,2),b=f[0],v=f[1],y=Object(n.useState)(null),_=Object(d.a)(y,2),C=_[0],k=_[1];function O(){"initial"===i?function(e){var t=e.orderUrl,a="".concat(J,"/veeqo?url=").concat(t);return fetch(a).then(te).catch((function(e){return console.error(e)}))}({orderUrl:h.orderUrl}).then((function(e){w(e,(function(){s.b.dark("Using order ".concat(e.number)),k(e),u("form")}))})):u("initial")}function S(e,t){if(t)g(Object(ke.a)({},t,e));else{var a=e.target,n=a.name,r=a.value;g(Object(ke.a)({},n,r))}}function w(e,t){e.error?s.b.error(e.message):t(e)}return Object(n.useEffect)((function(){(function(){var e="".concat(J,"/calendar/calendars");return fetch(e).then(te).catch((function(e){return console.error(e)}))})().then((function(e){S(e[0],"calendar"),v(e),l(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Create Event"),a?r.a.createElement(L,{style:{marginTop:"120px"}}):"initial"===i?r.a.createElement(Ye,{formState:h,onFormChange:S,calendars:b,emails:$,toggleView:O}):r.a.createElement(xe,{formState:h,onFormChange:S,onSubmit:function(){var e=h.calendar,t=h.title,a=h.date,n=h.time,r=h.length,c=h.attendees;if(""!==t&&""!==a&&""!==n){l(!0);var o="".concat(a," ").concat(n),i=Se()(o,"YYYY-MM-DD HH-mm");(function(e){var t=e.event,a="".concat(J,"/calendar/create"),n={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)};return fetch(a,n).then(te).catch((function(e){return console.error(e)}))})({event:{order:C,calendar:e,attendees:c,title:t,start:i.toISOString(),end:i.add(r,"minutes").toISOString()}}).then((function(e){l(!1),w(e,(function(){s.b.dark("Event added successfully"),g(Object(re.a)(Object(re.a)({},Pe),{},{calendar:b[0]})),k(null),u("initial")}))}))}else s.b.dark("No inputs may be empty")},toggleView:O}))},Fe=a(100),Ae=a.n(Fe);var Ie=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(null),o=Object(d.a)(c,2),i=o[0],u=o[1],m=Se()().format("YYYY-MM");return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Turnover"),r.a.createElement(P.a,{onSubmit:function(e){e.preventDefault();var t=e.target.elements.date.value;t?(u(null),l(!0),ae({start:Se()(t).startOf("month").format("YYYY/MM/DD"),end:Se()(t).endOf("month").format("YYYY/MM/DD")}).then((function(e){u(e),l(!1)}))):s.b.dark("Please select a date")},className:Ae.a.dateForm},r.a.createElement(R,null,"Select Month"),r.a.createElement(T.a,{type:"month",name:"date",min:"2017-04",max:m}),r.a.createElement(ce.a,{type:"submit"},"Calculate")),a&&r.a.createElement(L,{style:{marginTop:"50px"}}),i&&r.a.createElement("div",{className:Ae.a.totalsWrapper},r.a.createElement(G,{header:"Total excluding VAT",text:"\xa3".concat(i.total_ex_vat)}),r.a.createElement(G,{header:"Total including VAT",text:"\xa3".concat(i.total_with_vat)})))},Me=a(101),Ve=a.n(Me);var qe=function(e){var t=e.orders;return r.a.createElement(ue.a,{bordered:!0,striped:!0,size:"sm",id:"orderwell-table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:Ve.a.header},r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Order Number"),r.a.createElement("th",null,"Items"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t,className:Ve.a.row},r.a.createElement("td",null,e.date),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",href:e.url,rel:"noopener noreferrer"},e.id)),r.a.createElement("td",null,e.items.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},t>0&&r.a.createElement("br",null),e)}))))}))))};var Ge=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],u=o[1];return Object(n.useEffect)((function(){(function(){var e="".concat(J,"/bandq/orderwell");return fetch(e).then(te).catch((function(e){return console.error(e)}))})().then((function(e){u(e),l(!1)}))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Order Well"),a?r.a.createElement(L,{style:{marginTop:"120px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{onClick:function(){var e,t,a=document.getElementById("orderwell-table"),n=document.body;if(document.createRange&&window.getSelection){e=document.createRange(),(t=window.getSelection()).removeAllRanges();try{e.selectNodeContents(a),t.addRange(e)}catch(r){e.selectNode(a),t.addRange(e)}}else n.createTextRange&&((e=n.createTextRange()).moveToElementText(a),e.select());document.execCommand("Copy")}},"Copy"),r.a.createElement(qe,{orders:i})))},Re=a(68),Be=a.n(Re),Ue=a(102),We=a(103),Le=a.n(We),He=(a(238),a(239),a(189)),ze={startDate:null,endDate:null,focusedInput:null};var Ke=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useReducer)(le,ze),o=Object(d.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(null),p=Object(d.a)(m,2),h=p[0],g=p[1],E=Object(n.useState)(null),f=Object(d.a)(E,2),b=f[0],v=f[1];function y(e,t){return _.apply(this,arguments)}function _(){return(_=Object(Ue.a)(Be.a.mark((function e(t,a){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t).then((function(e){g(e)}));case 2:return e.next=4,ae(a).then((function(e){v(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(Ue.a)(Be.a.mark((function e(){var t,a,n,r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.startDate,a=i.endDate,!t||!a){e.next=12;break}return g(null),v(null),l(!0),n={start:t.format("YYYY/MM/DD"),end:a.format("YYYY/MM/DD")},r={start:t.clone().subtract(1,"years").format("YYYY/MM/DD"),end:a.clone().subtract(1,"years").format("YYYY/MM/DD")},e.next=9,y(n,r);case 9:l(!1),e.next=13;break;case 12:s.b.dark("Please select both dates");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Sales Comparison"),r.a.createElement(R,null,"Select Date Range"),r.a.createElement(He.DateRangePicker,{startDate:i.startDate,startDateId:"1",endDate:i.endDate,endDateId:"2",onDatesChange:u,focusedInput:i.focusedInput,onFocusChange:function(e){return u({focusedInput:e})},isOutsideRange:function(e){return e.isBefore(Se()("04/2018","MM/YYYY"))||e.isAfter(Se()())},displayFormat:"DD/MM/YYYY"}),r.a.createElement(ce.a,{onClick:function(){return C.apply(this,arguments)},className:Le.a.calcButton},"Calculate"),a&&r.a.createElement(L,{style:{marginTop:"50px"}}),h&&b&&r.a.createElement("div",{className:Le.a.totalsWrapper},r.a.createElement(G,{header:"Previous Year",text:b.total_with_vat,description:"*With VAT"}),r.a.createElement(G,{header:"Selected Year",text:h.total_with_vat,description:"*With VAT"})))},Qe=a(59),Je=a.n(Qe);var Xe=function(e){var t=e.isOpen,a=e.toggle,n=e.article,l=n.header,c=n.content;return r.a.createElement(Ee.a,{isOpen:t,size:"lg"},r.a.createElement(fe.a,{toggle:a},l),r.a.createElement(be.a,{className:Je.a.modalBody},c))},Ze=a(368),$e=a(369),et=a(370),tt=a(371),at=a(372),nt=a(373);var rt=function(e){var t=e.article,a=e.onClick,n=t.header,l=t.homepageImg,c=t.alt,o=t.description,i=t.portalTitle,u=t.portalUrl;return r.a.createElement(Ze.a,{className:Je.a.card,onClick:function(){return a(t)}},r.a.createElement($e.a,null,r.a.createElement(et.a,{tag:"h5"},n)),r.a.createElement(tt.a,{width:"100%",src:l,alt:c}),r.a.createElement($e.a,null,r.a.createElement(at.a,null,o),r.a.createElement(nt.a,{href:u,target:"_blank",onClick:function(e){e.stopPropagation()}},i)))},lt="https://argos.the-edge.io/cas/login";var ct=function(){return{header:"Get Argos File",description:"Guide to exporting orders from the Argos Edge portal",portalTitle:"The Edge",portalUrl:lt,alt:"argos",homepageImg:"/images/articles/argos/homepage.png",content:r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Login to"," ",r.a.createElement("a",{href:lt,target:"_blank",rel:"noreferrer"},"The Edge portal")),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"homepage",src:"/images/articles/argos/homepage-with-highlights.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Click on "Orders" in the top left of the page (circled in red)'),r.a.createElement("li",null,'Click "Find orders" (circled in green)'),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"orders-page",src:"/images/articles/argos/orders-page-with-highlights.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Select the required orders by clicking in the relative checkbox(s) (circled in red)"),r.a.createElement("li",null,'Download the CSV file by clicking "EXPORT TO CSV" (circled in green)'),r.a.createElement("li",null,"A guide to uploading the file can be found"," ",r.a.createElement("a",{href:"/guides/import",target:"_blank",rel:"noreferrer"},"here"))))}},ot="https://kingfisher.edt.fr/BCP-Web/jsp/index.jsp";var it=function(){return{header:"Get B&Q File",description:"Guide to exporting orders from the B&Q Kingfisher portal",portalTitle:"Kingfisher Portal",portalUrl:ot,alt:"bandq",homepageImg:"/images/articles/bandq/half-homepage.png",content:r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Login to"," ",r.a.createElement("a",{href:ot,target:"_blank",rel:"noreferrer"},"Kingfisher portal")),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"homepage",src:"/images/articles/bandq/homepage-with-highlights.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Select the order(s) to export by clicking in their respective checkbox (circled in red)"),r.a.createElement("li",null,'Download the file by clicking "Export CSV"'),r.a.createElement("li",null,"A guide to uploading the file can be found"," ",r.a.createElement("a",{href:"/guides/import",target:"_blank",rel:"noreferrer"},"here"))))}},ut="https://cloud.freeway.opentext.com/Account/SignIn",mt="/images/articles/homebase/homepage.png";var st=function(){return{header:"Get Homebase File",description:"Guide to exporting an order from the Homebase Freeway EDI portal",portalTitle:"Freeway EDI",portalUrl:ut,alt:"homebase",homepageImg:mt,content:r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Login to"," ",r.a.createElement("a",{href:ut,target:"_blank",rel:"noreferrer"},"Freeway EDI")),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"homepage",src:mt}),r.a.createElement("ul",null,r.a.createElement("li",null,'Click on the "Documents" area to the right'),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"docs-page",src:"/images/articles/homebase/documents-page.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Click in the checkbox next to the order to upload (circled in red)"),r.a.createElement("li",null,'Click "View Data" (circled in green)'),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"data-page",src:"/images/articles/homebase/view-data-page.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Click the message icon (circled in blue)")),r.a.createElement("img",{alt:"popup-img",src:"/images/articles/homebase/send-email-popup.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Enter your email, and click "Send"'),r.a.createElement("li",null,"You should get the following email within 5 minutes")),r.a.createElement("img",{alt:"email-data",src:"/images/articles/homebase/data-email.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Save the attachment "xxxxxxxx.xml"'),r.a.createElement("li",null,"A guide to uploading the file can be found"," ",r.a.createElement("a",{href:"/guides/import",target:"_blank",rel:"noreferrer"},"here"))))}},dt="https://partners.wayfair.com/v/login/index";var pt=function(){return{header:"Get Wayfair File",description:"Guide to exporting orders from Wayfair's Partner portal",portalTitle:"Wayfair Portal",portalUrl:dt,alt:"wayfair",homepageImg:"/images/articles/wayfair/homepage.png",content:r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Login to"," ",r.a.createElement("a",{href:dt,target:"_blank",rel:"noreferrer"},"Wayfair Portal")),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"homepage",src:"/images/articles/wayfair/homepage-with-highlights.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Click "Orders" in the top left of the page'),r.a.createElement("li",null,'Click "Order Exports" in the menu (circled in red)'),r.a.createElement("li",null,"You should be redirected to the page below")),r.a.createElement("img",{alt:"reports-page",src:"/images/articles/wayfair/reports-page.png"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Click "All Open Orders" (circled in green)'),r.a.createElement("li",null,'Download the CSV file by clicking "Generate Report" (circled in blue) at the bottom of the page'),r.a.createElement("li",null,"A guide to uploading the file can be found"," ",r.a.createElement("a",{href:"/guides/import",target:"_blank",rel:"noreferrer"},"here"))))}},ht="/import",gt="/images/articles/import/import-page.PNG";var Et=function(){return{header:"Importing to Veeqo",description:"Guide to importing a file into Veeqo using CSC Services",portalTitle:"Import Page",portalUrl:ht,alt:"import",homepageImg:gt,content:r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Navigate to the"," ",r.a.createElement("a",{href:ht,target:"_blank",rel:"noreferrer"},"Import page"))),r.a.createElement("img",{alt:"import-page",src:"/images/articles/import/import-page-with-dropdown.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Select which file you want to upload from the dropdown (some are greyed out)")),r.a.createElement("img",{alt:"import-page",src:gt}),r.a.createElement("ul",null,r.a.createElement("li",null,"You can drag and drop a file into the dashed area or click to select the file to upload")),r.a.createElement("img",{alt:"import-table",src:"/images/articles/import/import-table.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,"Orders found in the file will be shown here"),r.a.createElement("li",null,"You can select the orders to upload using the checkboxs on the left (circled in green)"),r.a.createElement("li",null,'You may click "Edit Address" to change the address based on the Postcode (circled in red)')),r.a.createElement("img",{alt:"address-modal",src:"/images/articles/import/address-modal.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,'After clicking "Edit Address" this window will pop up'),r.a.createElement("li",null,'To change the address of an order, select the address you want to use and click "Update" (blue button)')),r.a.createElement("img",{alt:"address-modal",src:"/images/articles/import/import-table-with-options.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,"The yellow circle above shows the only selected order, only selected orders will be imported to Veeqo"),r.a.createElement("li",null,'Once you are ready to upload the order into Veeqo, click "Import" (circled in blue)'),r.a.createElement("li",null,"The order should be on Veeqo")))}},ft="https://supplier.therange.co.uk/login.asp";var bt=function(){return{header:"Get Range Store Order File",description:"Guide to exporting store orders from The Range Extranet",portalTitle:"Range Extranet",portalUrl:ft,alt:"range_store",homepageImg:"/images/articles/range_store/homepage.PNG",content:r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,"Login to the"," ",r.a.createElement("a",{href:ft,target:"_blank",rel:"noreferrer"},"Range Extranet"))),r.a.createElement("img",{alt:"homepage",src:"/images/articles/range_store/homepage-with-highlights.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Hover over "Applications" (circled in green)'),r.a.createElement("li",null,'Click "DEX" (circled in red)'),r.a.createElement("li",null,"You should be taken to the page below")),r.a.createElement("img",{alt:"dex-homepage",src:"/images/articles/range_store/dex-homepage.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Hover over "Purchase Orders" (circled in pink)'),r.a.createElement("li",null,'Click "Downloaded" for old/archived purchase orders (circled in blue)'),r.a.createElement("li",null,'Click "Not Downloaded" for new purchase orders (circled in yellow)'),r.a.createElement("li",null,"You should be taken to the page below")),r.a.createElement("img",{alt:"dex-orders-page",src:"/images/articles/range_store/dex-orders-page.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Click "View" (circled in black) on the order you want to download')),r.a.createElement("img",{alt:"dex-order-download-page",src:"/images/articles/range_store/dex-order-download-page.PNG"}),r.a.createElement("ul",null,r.a.createElement("li",null,'Click "Save" (circled in dark blue)'),r.a.createElement("li",null,'Click "CSV" (circled in purple)'),r.a.createElement("li",null,"The CSV file should now download"),r.a.createElement("li",null,"A guide to uploading the file can be found"," ",r.a.createElement("a",{href:"/guides/import",target:"_blank",rel:"noreferrer"},"here"))))}};var vt=function(){return[ct(),it(),st(),pt(),Et(),bt()]};var yt=function(e){var t=e.match,a=e.history,l=vt(),c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(l[0]),s=Object(d.a)(m,2),p=s[0],h=s[1];function g(){!0===i&&t.params.article&&(alert("ere"),a.push("/guides")),u(!i)}function E(e){h(e),g()}return Object(n.useEffect)((function(){if(t.params.article){var e=l.find((function(e){return e.alt===t.params.article}));e&&(h(e),u(!0))}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Guides"),r.a.createElement("div",{className:Je.a.articleContainer},l.map((function(e,t){return r.a.createElement(rt,{key:t,article:e,onClick:E})}))),r.a.createElement(Xe,{isOpen:i,toggle:g,article:p}))},_t=a(50),Ct=a.n(_t),kt="portables",Ot="customers";function St(e,t,a,n){(function(e){var t=e.database,a=e.collection,n=e.body,r="".concat(J,"/database/").concat(t,"/").concat(a),l={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)};return fetch(r,l).then(te).catch((function(e){return console.error(e)}))})({database:kt,collection:Ot,body:{created_at:Se()().toISOString(),name:t.name,address:t.address,phone:t.phone,product:{title:t.title,fault:t.fault,serial_numbers:t.serial_numbers,warranty:t.warranty},status:"ongoing",notes:[],links:[]}}).then((function(t){return a({updatedCustomers:[].concat(Object(I.a)(e),[t]),callToggleModal:!0,successMsg:"Added customer"})})).catch(n)}function wt(e,t,a,n,r,l){var c,o,i;"add"===e?(c=[].concat(Object(I.a)(t.links),[{title:a.urlTitle,url:a.url}]),o=!0,i="Link added"):"delete"===e&&(c=t.links.filter((function(e,t){return t!==l})),o=!1,i="Link removed"),ne({_id:t._id,database:kt,collection:Ot,body:{links:c}}).then((function(e){n({updatedCustomer:e,callToggleModal:o,successMsg:i})})).catch(r)}function jt(e){switch(e){case"Grand Rapids 2014 - 2016":return"rgb(255, 207, 164)";case"Rio Grande 2014 - 2016":return"rgb(255, 216, 207)";case"Swift Current 2014 - 2016":return"rgb(253, 218, 243)";case"Muskoka 2012 - 2016":return"rgb(224, 210, 255)";case"Grand Rapids V2 2017":return"rgb(195, 240, 235)";case"Rio Grande V2 2017":return"rgb(215, 239, 252)";case"Swift Current V2 2017":return"rgb(218, 245, 201)";case"Muskoka V2 2017":return"rgb(237, 232, 195)";default:return""}}var xt=function(e){var t=e.modalType,a=e.formState,n=e.onFormChange,l=e.onSubmit,c=a.name,o=a.address,i=a.phone,u=a.title,m=a.fault,s=a.serial_numbers,d=a.warranty;return r.a.createElement("div",null,r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Name"),r.a.createElement(T.a,{name:"name",value:c,onChange:n})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Address"),r.a.createElement(T.a,{type:"textarea",name:"address",value:o,onChange:n})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Phone"),r.a.createElement(T.a,{name:"phone",value:i,onChange:n})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Product"),r.a.createElement(T.a,{type:"select",name:"title",value:u,onChange:n},ee.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement(we.a,{check:!0,style:{marginBottom:"10px"}},r.a.createElement(je.a,{check:!0},r.a.createElement(T.a,{type:"checkbox",name:"warranty",checked:d,onChange:n})," ","Warranty")),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Serial Numbers"),r.a.createElement(H,{name:"serial_numbers",placeholder:"Serial Number",options:s,onChange:n,autoSuggest:!1,useEvent:!0,predefinedSuggestions:[]})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Fault Description"),r.a.createElement(T.a,{type:"textarea",name:"fault",value:m,onChange:n})),r.a.createElement(z,null,r.a.createElement(ce.a,{name:t,onClick:l},"addCustomer"===t?"Create":"Update")))};var Nt=function(e){e.modalType;var t=e.formState,a=e.onFormChange,n=e.onSubmit,l=t.url,c=t.urlTitle;return r.a.createElement("div",null,r.a.createElement(we.a,null,r.a.createElement(je.a,null,"Title"),r.a.createElement(T.a,{name:"urlTitle",placeholder:"Order #P-12345678",value:c,onChange:a})),r.a.createElement(we.a,null,r.a.createElement(je.a,null,"URL"),r.a.createElement(T.a,{name:"url",placeholder:"https://app.veeqo.com/orders/12345678",value:l,onChange:a})),r.a.createElement(z,null,r.a.createElement(ce.a,{name:"addLink",onClick:n},"Add")))};var Tt=function(e){var t=e.toggle,a=e.onSubmit;return r.a.createElement(z,null,r.a.createElement(ce.a,{color:"primary",onClick:t},"Cancel"),r.a.createElement(ce.a,{color:"danger",name:"archive",onClick:a},"Confirm"))};var Yt=function(e){var t,a,n=e.isOpen,l=e.toggle,c=e.modalType,o=e.formState,i=e.onFormChange,u=e.onSubmit,m=e.activeCustomer;return"addCustomer"===c||"editCustomer"===c?(t="addCustomer"===c?"Add Customer":"Edit Customer",a=r.a.createElement(xt,{modalType:c,formState:o,onFormChange:i,onSubmit:u})):"addLink"===c?(t="Add Link",a=r.a.createElement(Nt,{formState:o,onFormChange:i,onSubmit:u})):"archive"===c&&(t="Archive Customer '"+m.name+"'",a=r.a.createElement(Tt,{toggle:l,onSubmit:u,activeCustomer:m})),r.a.createElement(Ee.a,{isOpen:n},r.a.createElement(fe.a,{toggle:l},t),r.a.createElement(be.a,null,a))},Pt=a(42),Dt=a.n(Pt);var Ft=function(e){var t=e.customer,a=e.isActiveCustomer,n=e.onClick,l=t.name,c=t.created_at,o=t.product,i=Se()(c).format("DD/MM/YYYY");return r.a.createElement("div",{className:a?Dt.a.customer+" "+Dt.a.selected:Dt.a.customer,onClick:function(){n(t)}},r.a.createElement("div",{className:Dt.a.icon},r.a.createElement(M.a,{icon:m.g})),r.a.createElement("div",{className:Dt.a.title},l),r.a.createElement("div",{className:Dt.a.content},o.fault),r.a.createElement("div",{className:Dt.a.footer},o.title),r.a.createElement("div",{className:Dt.a.date},i))},At=a(104),It=a.n(At),Mt=a(190);var Vt=function(e){var t=e.note,a=t.content,n=t.created_at,l=Se()(n).format("MM:HH A, DD/MM/YYYY");return r.a.createElement("div",{className:It.a.note},r.a.createElement(M.a,{icon:Mt.a}),r.a.createElement("div",{className:It.a.noteContent},r.a.createElement("div",null,a),r.a.createElement("span",null,l)))},qt=a(51),Gt=a.n(qt),Rt=["All","On Going","Archived"],Bt=["All"].concat(Object(I.a)(ee)),Ut=["All","Yes","No"],Wt={search:"",status:Rt[0],product:Bt[0],warranty:Ut[0]};var Lt=function(e){var t=e.customers,a=e.setFilteredCustomers,l=e.children,c=Object(n.useReducer)(le,Wt),o=Object(d.a)(c,2),i=o[0],u=o[1];function m(e){var n=e.target,r=n.name,l=n.value,c=Object(re.a)(Object(re.a)({},i),{},Object(ke.a)({},r,l)),o=function(e){var a=e.status,n=e.product,r=e.warranty;return t.filter((function(e){return"On Going"===a?"ongoing"===e.status:"Archived"!==a||"archived"===e.status})).filter((function(e){return"All"===n||e.product.title===n})).filter((function(e){return"Yes"===r?!0===e.product.warranty:"No"!==r||!1===e.product.warranty}))}(c),m=c.search.toUpperCase();a(o.filter((function(e){var t=e.name.toUpperCase(),a=e.address.toUpperCase(),n=e.phone.toUpperCase();return""===m||(t.includes(m)||a.includes(m)||n.includes(m))}))),u(Object(ke.a)({},r,l))}return r.a.createElement("div",{className:Gt.a.wrapper},r.a.createElement("div",{className:Gt.a.children},l),r.a.createElement("div",{className:Gt.a.filter},r.a.createElement("div",null,r.a.createElement("span",null,"Status"),r.a.createElement(T.a,{type:"select",name:"status",className:Gt.a.status,value:i.status,onChange:m},Rt.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("div",null,r.a.createElement("span",null,"Warranty"),r.a.createElement(T.a,{type:"select",name:"warranty",className:Gt.a.warranty,value:i.warranty,onChange:m},Ut.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})))),r.a.createElement("div",null,r.a.createElement("span",null,"Product"),r.a.createElement(T.a,{type:"select",name:"product",className:Gt.a.product,value:i.product,onChange:m},Bt.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(T.a,{name:"search",placeholder:"Search",value:i.search,onChange:m}))},Ht=a(191),zt=a.n(Ht);var Kt=function(e){var t=e.name,a=e.links,n=e.onDelete;return r.a.createElement("div",null,a.map((function(e,a){return r.a.createElement("div",{key:a,className:zt.a.linkWrapper},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noreferrer"},e.title),r.a.createElement("button",{name:t,id:a,onClick:n},r.a.createElement(M.a,{icon:m.d})))})))},Qt=a(192),Jt=a.n(Qt);var Xt=function(e){var t=e.header,a=e.content,n=e.className,l=e.backgroundColor;return l||(l="#e9ecef"),r.a.createElement("div",{className:Jt.a.infoBox},t&&r.a.createElement("span",null,t),a&&"object"===typeof a?a.map((function(e,t){return r.a.createElement("div",{key:t,className:n,style:{backgroundColor:l}},e)})):r.a.createElement("div",{className:n,style:{backgroundColor:l}},a))};var Zt=function(e){var t=e.customer,a=t.address,n=t.phone,l=t.product,c=l.title,o=l.fault,i=l.serial_numbers,u=l.warranty;return r.a.createElement("div",null,r.a.createElement(Xt,{header:"Address",content:a||"Not given"}),r.a.createElement(Xt,{header:"Phone",content:n||"Not given"}),r.a.createElement(Xt,{header:"Product",content:c,backgroundColor:jt(c)}),r.a.createElement(Xt,{header:"In Warranty",content:u?"Yes":"No",backgroundColor:u?"#85ea85":"#f57979"}),i.length>0?r.a.createElement(Xt,{header:"Serial Number(s)",content:i,backgroundColor:"#bad6ec"}):r.a.createElement(Xt,{header:"Serial Number(s)",content:"Not given",backgroundColor:"transparent"}),r.a.createElement(Xt,{header:"Fault Description",content:""===o?"Not given":o}))},$t={note:"",name:"",address:"",phone:"",title:ee[0],fault:"",serial_numbers:[],warranty:!0,url:"",urlTitle:""};var ea=function(){var e=Object(n.useReducer)(le,$t),t=Object(d.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(d.a)(c,2),i=o[0],u=o[1],p=Object(n.useState)(""),h=Object(d.a)(p,2),g=h[0],E=h[1],f=Object(n.useState)([]),b=Object(d.a)(f,2),v=b[0],y=b[1],_=Object(n.useState)([]),C=Object(d.a)(_,2),k=C[0],O=C[1],S=Object(n.useState)(null),w=Object(d.a)(S,2),j=w[0],x=w[1];function N(e){var t,a=(t="created_at",e.sort((function(e,a){return new Date(a[t])-new Date(e[t])})));x(a[0]),y(a),O(a)}function Y(e){e&&E(e),u(!i)}function P(e){var t=e.target,a=t.name,n=t.value,r=t.checked,c=t.type;l("checkbox"===c?Object(ke.a)({},a,r):Object(ke.a)({},a,n))}function D(e){l($t),x(e)}function F(e){var t=e.currentTarget.name;l("editCustomer"===t?Object(re.a)(Object(re.a)(Object(re.a)({},$t),j),j.product):$t),Y(t)}function A(e){var t=e.key,n=e.currentTarget,r=n.name,l=n.id;"addCustomer"===r?St(v,a,M,V):"editCustomer"===r?function(e,t,a,n){ne({_id:e._id,database:kt,collection:Ot,body:{name:t.name,address:t.address,phone:t.phone,product:{title:t.title,fault:t.fault,serial_numbers:t.serial_numbers,warranty:t.warranty}}}).then((function(e){return a({updatedCustomer:e,callToggleModal:!0,successMsg:"Updated product"})})).catch(n)}(j,a,M,V):"note"===r&&"Enter"===t?function(e,t,a,n){ne({_id:e._id,database:kt,collection:Ot,body:{notes:[].concat(Object(I.a)(e.notes),[{content:t.note,created_at:Se()().toISOString()}])}}).then((function(e){return a({updatedCustomer:e})})).catch(n)}(j,a,M,V):"addLink"===r?function(e,t,a,n){wt("add",e,t,a,n,null)}(j,a,M,V):"removeLink"===r?function(e,t,a,n,r){wt("delete",t,a,n,r,e=parseInt(e))}(l,j,a,M,V):"archive"===r&&function(e,t,a){ne({_id:e._id,database:kt,collection:Ot,body:{status:"archived"}}).then((function(e){return t({updatedCustomer:e,callToggleModal:!0,successMsg:"Archived customer"})})).catch(a)}(j,M,V)}function M(e){var t=e.updatedCustomer,a=e.updatedCustomers,n=e.callToggleModal,r=e.successMsg;if(a)N(a);else{var c=(a=Object(I.a)(v)).indexOf(j);a[c]=t,l($t),N(a),x(t)}n&&Y(),r&&s.b.dark(r)}function V(){s.b.error("Error completing action")}return Object(n.useEffect)((function(){(function(e){var t=e.database,a=e.collection,n="".concat(J,"/database/").concat(t,"/").concat(a);return fetch(n).then(te).catch((function(e){return console.error(e)}))})({database:"portables",collection:"customers"}).then(N)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(B,null,"Portables"),0===v.length?r.a.createElement(L,{style:{marginTop:"120px"}}):r.a.createElement("div",{className:Ct.a.window},r.a.createElement("div",null,r.a.createElement(R,{dark:!0,padded:!0},"Customers"),r.a.createElement(Lt,{customers:v,filteredCustomers:k,setFilteredCustomers:O},r.a.createElement("button",{name:"addCustomer",onClick:F},"New Customer"),r.a.createElement("button",{name:"archive",onClick:F,disabled:"archived"===j.status},"Archive Customer")),r.a.createElement("div",{className:Ct.a.customerContainer},k.map((function(e,t){return r.a.createElement(Ft,{key:t,customer:e,isActiveCustomer:e===j,onClick:D})})))),r.a.createElement("div",null,r.a.createElement(R,{dark:!0,padded:!0},j.name,"archived"===j.status&&" (Archived)"),r.a.createElement("div",{className:Ct.a.detailsWindow},r.a.createElement("div",{className:Ct.a.notes},r.a.createElement(R,null,"Notes"),r.a.createElement("div",{className:Ct.a.notesContainer},j.notes.length>0?j.notes.map((function(e,t){return r.a.createElement(Vt,{key:t,note:e})})):r.a.createElement("div",null,"No previous notes")),r.a.createElement(T.a,{name:"note",placeholder:"Enter note",className:Ct.a.roundedInput,value:a.note,onChange:P,onKeyPress:A})),r.a.createElement("div",null,r.a.createElement(K,{icon:m.b,name:"editCustomer",onClick:F},"Details"),r.a.createElement(Zt,{customer:j}),r.a.createElement(K,{name:"addLink",icon:m.c,onClick:F},"Links"),r.a.createElement(Kt,{name:"removeLink",links:j.links,onDelete:A}))))),r.a.createElement(Yt,{isOpen:i,toggle:Y,modalType:g,formState:a,onFormChange:P,onSubmit:A,activeCustomer:j}))};var ta=function(){return r.a.createElement(B,null,"404 - Page not found")};u.b.add({faUpload:m.f,faPlus:m.c,faPencilAlt:m.b,faTrashAlt:m.e,faTimes:m.d,faChevronDown:m.a});var aa=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(o.a,null,r.a.createElement(O,null),r.a.createElement(s.a,{hideProgressBar:!0,autoClose:3e3}),r.a.createElement("div",{className:"container"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:Q}),r.a.createElement(i.a,{path:"/update",component:Ce}),r.a.createElement(i.a,{path:"/import/",component:_e}),r.a.createElement(i.a,{path:"/calendar/",component:De}),r.a.createElement(i.a,{path:"/bandq/turnover",component:Ie}),r.a.createElement(i.a,{path:"/bandq/orderwell",component:Ge}),r.a.createElement(i.a,{path:"/bandq/comparison",component:Ke}),r.a.createElement(i.a,{exact:!0,path:"/portables",component:ea}),r.a.createElement(i.a,{exact:!0,path:"/guides",component:yt}),r.a.createElement(i.a,{exact:!0,path:"/guides/:article",component:yt}),r.a.createElement(i.a,{component:ta})))))};c.a.render(r.a.createElement(aa,null),document.getElementById("root"))},42:function(e,t,a){e.exports={customer:"Customer_customer__3G4Y7",selected:"Customer_selected__1nW3R",icon:"Customer_icon__1j4yd",title:"Customer_title__qxzNG",content:"Customer_content__19t6S",footer:"Customer_footer__3enyn",date:"Customer_date__vkvvy"}},50:function(e,t,a){e.exports={window:"PortablesPage_window__1c-pJ",customerContainer:"PortablesPage_customerContainer__1rQlz",detailsWindow:"PortablesPage_detailsWindow__3VIVf",notes:"PortablesPage_notes__1pTqj",notesContainer:"PortablesPage_notesContainer__1foCo"}},51:function(e,t,a){e.exports={wrapper:"Filter_wrapper__3KMhW",children:"Filter_children__1SAUq",filter:"Filter_filter__2Qbew",status:"Filter_status__21H_7",warranty:"Filter_warranty__1qUK9",product:"Filter_product__2RQPE"}},59:function(e,t,a){e.exports={articleContainer:"GuidesPage_articleContainer__GyqQT",modalBody:"GuidesPage_modalBody__rlBz1",card:"GuidesPage_card__59bPb"}},98:function(e,t,a){e.exports={row:"ImportPage_row__35Syb"}},99:function(e,t,a){e.exports={dropzoneContainer:"FileUploadArea_dropzoneContainer__29vB0",dropzoneContent:"FileUploadArea_dropzoneContent__1rJL2"}}},[[349,1,2]]]);
//# sourceMappingURL=main.6aefd4a5.chunk.js.map