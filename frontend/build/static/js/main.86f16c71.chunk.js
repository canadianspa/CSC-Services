(this["webpackJsonpcsc-frontend"]=this["webpackJsonpcsc-frontend"]||[]).push([[0],{114:function(e,t,a){},174:function(e,t,a){},189:function(e,t,a){},214:function(e,t,a){},215:function(e,t,a){},218:function(e,t,a){},228:function(e,t){},329:function(e,t,a){},331:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),o=(a(188),a(182)),i=a(16),m=(a(189),a(62)),u=a(55),s=a(17),d=(a(192),a(10)),p=a(334),E=a(335),h=a(336),f=a(337),b=a(338),v=a(339),g=a(354),y=a(352),O=a(353),j=a(340);var C=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1];return r.a.createElement(p.a,{color:"dark",dark:!0,expand:"md"},r.a.createElement(E.a,{href:"/"},r.a.createElement("img",{className:"logo",src:"/images/csc-logo.png",alt:"logo"})),r.a.createElement(E.a,{href:"/"},"CSC Services"),r.a.createElement(h.a,{onClick:function(){return c(!a)}}),r.a.createElement(f.a,{isOpen:a,navbar:!0},r.a.createElement(b.a,{className:"mr-auto",navbar:!0},r.a.createElement(v.a,{href:"/update"},"Update"),r.a.createElement(v.a,{href:"/import"},"Import"),r.a.createElement(g.a,{nav:!0,inNavbar:!0},r.a.createElement(y.a,{nav:!0,caret:!0},"B & Q"),r.a.createElement(O.a,{right:!0},r.a.createElement(j.a,null,r.a.createElement(v.a,{href:"/bandq/turnover"},"Turnover")),r.a.createElement(j.a,null,r.a.createElement(v.a,{href:"/bandq/orderwell"},"Order Well")),r.a.createElement(j.a,null,r.a.createElement(v.a,{href:"/bandq/comparison"},"Sales Comparison")))),r.a.createElement(g.a,{nav:!0,inNavbar:!0},r.a.createElement(y.a,{nav:!0,caret:!0},"Shipping"),r.a.createElement(O.a,{right:!0},r.a.createElement(j.a,null,r.a.createElement(v.a,{href:"/shipping/create"},"Create")),r.a.createElement(j.a,null,r.a.createElement(v.a,{href:"/shipping/items"},"Items")))),r.a.createElement(v.a,{href:"/deliveries"},"Deliveries"))))};var S=function(e){var t=e.header,a=e.text,n=e.description;return r.a.createElement("div",{className:"card"},r.a.createElement("label",null,t),r.a.createElement("span",null,a),n&&r.a.createElement("p",null,n))};a(75);var k=function(e){var t=e.children;return r.a.createElement("div",{className:"header"},t)};var _=function(e){var t=e.children;return r.a.createElement("div",{className:"jumbotron"},t)},x=a(341);var w=function(e){var t=e.options,a=e.onChange,n=e.useObjects,c=e.objectTitleKey,l=e.multiple,o=e.name,i=e.style;return r.a.createElement(x.a,{type:"select",className:"select",name:o,style:i,multiple:!!l,onChange:function(e){if(n){var r=e.target,l=r.value,o=r.name,i=t.find((function(e){return e[c]===l}));a(i,o)}else a(e)}},t.map((function(e,t){return r.a.createElement("option",{key:t},n?e[c]:e)})))},N=a(342);var D=function(e){var t=e.options,a=e.onSubmit,n=e.useObjects,c=e.optionKey,l=e.children,o=e.inputStyle;return r.a.createElement(N.a,{onSubmit:function(e){e.preventDefault();var r=e.target.elements.option.value;if(r)if(n){var l=t.find((function(e){return e[c]===r}));a(l)}else a(r);else a(t[0])}},r.a.createElement(x.a,{name:"option",type:"select",multiple:!0,style:o},t.map((function(e,t){var a=n?e[c]:e;return r.a.createElement("option",{key:t,value:a},a)}))),l)},T=a(343);var Y=S,I=k,F=_,q=w,M=D,R=function(e){var t=e.style;return r.a.createElement(T.a,{color:"dark",className:"spinner",style:t})};var A=function(){return r.a.createElement(F,null,"Welcome to Canadian Spa Services")},P=a(46),U=(a(64),"/api"),V=[{name:"bandq",title:"B&Q"},{name:"homebase",title:"Homebase"},{name:"jtf",title:"JTF"},{name:"wayfair",title:"Wayfair"},{name:"range",title:"The Range"},{name:"travisperkins",title:"Travis Perkins"},{name:"robert_dyas",title:"Robert Dyas"},{name:"hornbach",title:"Hornbach"},{name:"shop_direct",title:"Shop Direct"}],z=[{name:"bandq",title:"B&Q CSV",requires_file:!0,file_type:".csv"},{name:"argos",title:"Argos CSV",requires_file:!0,file_type:".csv"},{name:"range",title:"The Range",requires_file:!1,file_type:null},{name:"homebase",title:"Homebase XML",requires_file:!0,file_type:".xml"},{name:"wayfair",title:"Wayfair CSV",requires_file:!0,file_type:".csv"},{name:"robert_dyas",title:"Robert Dyas CSV",requires_file:!0,file_type:".csv"},{name:"shop_direct",title:"Shop Direct TXT",requires_file:!0,file_type:".txt"},{name:"globus",title:"Globus XML",requires_file:!0,file_type:".xml"},{name:"hornbach",title:"Hornbach PDF",requires_file:!0,file_type:".pdf"}];function W(e){if(e.ok)return e.json();throw new Error("Bad response.")}function B(e){var t=e.start,a=e.end,n="".concat(U,"/bandq/turnover?start=").concat(t,"&end=").concat(a);return fetch(n).then(W).catch((function(e){return console.error(e)}))}function L(){var e="".concat(U,"/bandq/orderwell");return fetch(e).then(W).catch((function(e){return console.error(e)}))}function K(){var e="".concat(U,"/shipping/items");return fetch(e).then(W).catch((function(e){return console.error(e)}))}function H(){var e="".concat(U,"/shipping/carriers");return fetch(e).then(W).catch((function(e){return console.error(e)}))}var J=a(36),Q=function(e,t){return Object(J.a)(Object(J.a)({},e),t)},$=a(176),X=a(344);var G=function(e){var t=e.orders,a=e.handleEditClick,n=e.handleCheckboxClick;return r.a.createElement(X.a,{bordered:!0,striped:!0,responsive:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Address 1"),r.a.createElement("th",null,"City"),r.a.createElement("th",null,"County"),r.a.createElement("th",null,"Postcode"),r.a.createElement("th",null,"Country"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e,t){var c=e.deliver_to_attributes;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement(x.a,{type:"checkbox",id:t,defaultChecked:"true",onChange:n})),r.a.createElement("td",null,c.first_name),r.a.createElement("td",null,c.last_name),r.a.createElement("td",null,c.address1),r.a.createElement("td",null,c.city),r.a.createElement("td",null,c.state),r.a.createElement("td",null,c.zip),r.a.createElement("td",null,c.country),r.a.createElement("th",null,r.a.createElement($.a,{color:"secondary",size:"sm",id:t,onClick:a},"Edit Address")))}))))};var Z=function(e){var t=e.orders,a=e.file,n=e.handleEditAddressClick,c=e.handleCheckboxClick,l=e.handleImportClick,o=e.setInitialState;return 0===t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"No orders found"),r.a.createElement($.a,{color:"danger",onClick:o},"Back")):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(I,null,"File: ",a.name),r.a.createElement(G,{orders:t,handleCheckboxClick:c,handleEditClick:n}),r.a.createElement("div",{className:"centered-parent"},r.a.createElement($.a,{color:"danger",onClick:o},"Cancel"),r.a.createElement($.a,{onClick:l},"Import")))},ee=(a(214),a(73)),te=a(183);var ae=function(e){var t=e.selectedVendor,a=e.handleFileSubmit,c=Object(n.useCallback)((function(e){e[0]&&a(t.name,e[0])}),[t,a]),l=Object(te.a)({onDrop:c,multiple:!1,accept:t.file_type}),o=l.getRootProps,i=l.getInputProps;return r.a.createElement("div",Object.assign({},o(),{className:"dropzone-container"}),r.a.createElement("input",i()),r.a.createElement("div",{className:"dropzone-content"},r.a.createElement(ee.a,{icon:"upload"}),r.a.createElement("span",null,"Click to upload file (",t.file_type,")")))},ne=a(351),re=a(345),ce=a(346);var le=function(e){var t,a,n=e.isOpen,c=e.toggle,l=e.modalType,o=e.addresses,i=e.handleUpdateAddress;return"editAddress"===l&&(t="Select address",a=r.a.createElement(M,{options:o,onSubmit:i,useObjects:!0,optionKey:"summaryline",children:r.a.createElement("div",{className:"button-parent"},r.a.createElement($.a,{color:"danger",onClick:c},"Cancel"),r.a.createElement($.a,{color:"primary",type:"submit"},"Update"))})),r.a.createElement(ne.a,{isOpen:n},r.a.createElement(re.a,{toggle:c},t),r.a.createElement(ce.a,null,a))},oe={activeOrderIndex:null,selectedVendor:z[0]};var ie=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(d.a)(l,2),i=o[0],m=o[1],u=Object(n.useState)([]),p=Object(d.a)(u,2),E=p[0],h=p[1],f=Object(n.useState)([]),b=Object(d.a)(f,2),v=b[0],g=b[1],y=Object(n.useState)(!1),O=Object(d.a)(y,2),j=O[0],C=O[1],S=Object(n.useState)(!0),k=Object(d.a)(S,2),_=k[0],x=k[1],w=Object(n.useState)([]),N=Object(d.a)(w,2),D=N[0],T=N[1],Y=Object(n.useReducer)(Q,oe),M=Object(d.a)(Y,2),A=M[0],V=M[1],B=function(){return C(!j)};function L(e,t){c(!0),function(e){var t=e.vendor,a=e.file,n="".concat(U,"/import/convert/").concat(t),r={method:"POST"};if(a){var c=new FormData;c.append("file",a),r.body=c}return fetch(n,r).then(W).catch((function(e){return console.error(e)}))}({vendor:e,file:t}).then((function(e){c(!1),e.error?s.b.dark("Error getting orders, ensure you are uploading the correct file."):(h(e),m(t),T(e.map((function(e,t){return t}))),x(!1))}))}function K(){V(oe),h([]),x(!0)}return r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Import to Veeqo"),_?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"Select data source"),r.a.createElement(q,{options:z,objectTitleKey:"title",onChange:function(e){V({selectedVendor:e}),e.requires_file||L(e.name)},useObjects:!0}),a?r.a.createElement(R,{style:{marginTop:"60px"}}):r.a.createElement(ae,{selectedVendor:A.selectedVendor,handleFileSubmit:L})):r.a.createElement(Z,{orders:E,file:i,handleEditAddressClick:function(e){var t=e.target.id,a=parseInt(t);(function(e){var t=e.postcode,a="".concat(U,"/postcoder?postcode=").concat(t);return fetch(a).then(W).catch((function(e){return console.error(e)}))})({postcode:E[a].deliver_to_attributes.zip}).then((function(e){V({activeOrderIndex:a}),g(e),C(!0)}))},handleCheckboxClick:function(e){var t=e.target,a=t.id,n=t.checked,r=parseInt(a);T(n?[].concat(Object(P.a)(D),[r]):D.filter((function(e){return e!==r})))},handleImportClick:function(){s.b.dark("Importing..."),function(e){var t=e.orders,a="".concat(U,"/import/orders"),n={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)};return fetch(a,n).then(W).catch((function(e){return console.error(e)}))}({orders:E.filter((function(e,t){return D.includes(t)}))}).then((function(e){s.b.dark("Imported ".concat(e.length," orders")),K()}))},setInitialState:K}),r.a.createElement(le,{isOpen:j,toggle:B,modalType:"editAddress",addresses:v,handleUpdateAddress:function(e){var t=e.premise,a=e.street,n=e.posttown,r=e.county,c=e.postcode,l=E.map((function(e,l){return l===A.activeOrderIndex&&(e.deliver_to_attributes.address1=t+" "+a,e.deliver_to_attributes.city=n,e.deliver_to_attributes.state=r,e.deliver_to_attributes.zip=c),e}));B(),h(l)}}))};var me=function(){var e=V[0],t=Object(n.useState)(!1),a=Object(d.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(e),i=Object(d.a)(o,2),m=i[0],u=i[1];return r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Update Google Spreadsheet"),c?r.a.createElement(R,{style:{width:"70px",height:"70px",marginTop:"50px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"Select Spreadsheet"),r.a.createElement(q,{options:V,objectTitleKey:"title",onChange:u,useObjects:!0}),r.a.createElement($.a,{onClick:function(){l(!0),function(e){var t=e.vendor,a="".concat(U,"/update/").concat(t);return fetch(a).then(W).catch((function(e){return console.error(e)}))}({vendor:m.name}).then((function(t){t.length>0?s.b.dark("Added ".concat(t.length," order(s)")):s.b.dark("No orders added"),l(!1),u(e)}))}},"Update")))},ue=(a(215),a(8)),se=a.n(ue);var de=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(d.a)(l,2),i=o[0],m=o[1],u=se()().format("YYYY-MM");return r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Turnover"),r.a.createElement(N.a,{onSubmit:function(e){e.preventDefault();var t=e.target.elements.date.value;t?(m(null),c(!0),B({start:se()(t).startOf("month").format("YYYY/MM/DD"),end:se()(t).endOf("month").format("YYYY/MM/DD")}).then((function(e){m(e),c(!1)}))):s.b.dark("Please select a date")},className:"date-form"},r.a.createElement(I,null,"Select Month"),r.a.createElement(x.a,{type:"month",name:"date",min:"2017-04",max:u}),r.a.createElement($.a,{type:"submit"},"Calculate")),a&&r.a.createElement(R,{style:{marginTop:"50px"}}),i&&r.a.createElement("div",{className:"totals-wrapper"},r.a.createElement(Y,{header:"Total excluding VAT",text:"\xa3".concat(i.total_ex_vat)}),r.a.createElement(Y,{header:"Total including VAT",text:"\xa3".concat(i.total_with_vat)})))},pe=a(31),Ee=a.n(pe),he=a(45);a(114);var fe=function(e){var t=e.orders;return r.a.createElement(X.a,{bordered:!0,striped:!0,size:"sm",id:"orderwell-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Order Number"),r.a.createElement("th",null,"Items"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.date),r.a.createElement("td",null,r.a.createElement("a",{target:"_blank",href:e.url,rel:"noopener noreferrer"},e.id)),r.a.createElement("td",null,e.items.map((function(e,t){return r.a.createElement(n.Fragment,{key:t},t>0&&r.a.createElement("br",null),e)}))))}))))};var be=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(d.a)(l,2),i=o[0],m=o[1];function u(){return(u=Object(he.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().then((function(e){m(e),c(!1)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){u.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Order Well"),a?r.a.createElement(R,{style:{marginTop:"120px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{onClick:function(){var e,t,a=document.getElementById("orderwell-table"),n=document.body;if(document.createRange&&window.getSelection){e=document.createRange(),(t=window.getSelection()).removeAllRanges();try{e.selectNodeContents(a),t.addRange(e)}catch(r){e.selectNode(a),t.addRange(e)}}else n.createTextRange&&((e=n.createTextRange()).moveToElementText(a),e.select());document.execCommand("Copy")}},"Copy"),r.a.createElement(fe,{orders:i})))},ve=(a(218),a(219),a(220),a(180)),ge={startDate:null,endDate:null,focusedInput:null};var ye=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useReducer)(Q,ge),o=Object(d.a)(l,2),i=o[0],m=o[1],u=Object(n.useState)(null),p=Object(d.a)(u,2),E=p[0],h=p[1],f=Object(n.useState)(null),b=Object(d.a)(f,2),v=b[0],g=b[1];function y(e,t){return O.apply(this,arguments)}function O(){return(O=Object(he.a)(Ee.a.mark((function e(t,a){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t).then((function(e){h(e)}));case 2:return e.next=4,B(a).then((function(e){g(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(he.a)(Ee.a.mark((function e(){var t,a,n,r;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.startDate,a=i.endDate,!t||!a){e.next=12;break}return h(null),g(null),c(!0),n={start:t.format("YYYY/MM/DD"),end:a.format("YYYY/MM/DD")},r={start:t.clone().subtract(1,"years").format("YYYY/MM/DD"),end:a.clone().subtract(1,"years").format("YYYY/MM/DD")},e.next=9,y(n,r);case 9:c(!1),e.next=13;break;case 12:s.b.dark("Please select both dates");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Sales Comparison"),r.a.createElement(I,null,"Select Date Range"),r.a.createElement(ve.DateRangePicker,{startDate:i.startDate,startDateId:"1",endDate:i.endDate,endDateId:"2",onDatesChange:m,focusedInput:i.focusedInput,onFocusChange:function(e){return m({focusedInput:e})},isOutsideRange:function(e){return e.isBefore(se()("04/2018","MM/YYYY"))||e.isAfter(se()())},displayFormat:"DD/MM/YYYY"}),r.a.createElement($.a,{onClick:function(){return j.apply(this,arguments)},className:"calc-button"},"Calculate"),a&&r.a.createElement(R,{style:{marginTop:"50px"}}),E&&v&&r.a.createElement("div",{className:"totals-wrapper"},r.a.createElement(Y,{header:"Previous Year",text:v.total_with_vat,description:"*With VAT"}),r.a.createElement(Y,{header:"Selected Year",text:E.total_with_vat,description:"*With VAT"})))},Oe=a(54),je=(a(92),a(347)),Ce=a(348),Se=a(181);var ke=function(e){var t=e.carriers,a=e.formState,n=e.onFormChange,c=e.updateFormState,l=a.carrier,o=a.orderUrl;return r.a.createElement(r.a.Fragment,null,r.a.createElement(je.a,{style:{width:"400px"}},r.a.createElement(Ce.a,{addonType:"prepend"},r.a.createElement(Se.a,null,"URL")),r.a.createElement(x.a,{name:"orderUrl",type:"text",placeholder:"Veeqo Order URL",value:o,onChange:n})),r.a.createElement(I,null,"Select Carrier"),r.a.createElement(q,{name:"carrier",useObjects:!0,options:t,objectTitleKey:"title",onChange:c}),l.accounts&&r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"Select Account"),r.a.createElement(q,{name:"account",options:l.accounts,onChange:n})))};var _e=function(e){var t=e.items,a=e.handleDeleteItem;return r.a.createElement(X.a,{striped:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Height (cm)"),r.a.createElement("th",null,"Width (cm)"),r.a.createElement("th",null,"Length (cm)"),r.a.createElement("th",null,"Weight (kg)"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.height),r.a.createElement("td",null,e.width),r.a.createElement("td",null,e.length),r.a.createElement("td",null,e.weight),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,r.a.createElement($.a,{size:"sm",color:"secondary",className:"times-button",onClick:function(){return a(t)}},r.a.createElement(ee.a,{icon:"times"}))))}))))};var xe=function(e){var t=e.items,a=e.formState,n=e.updateFormState;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"Items"),r.a.createElement("div",{className:"items-container"},r.a.createElement("div",null,r.a.createElement(_e,{items:a.items,handleDeleteItem:function(e){var t=Object(P.a)(a.items);t[e].quantity>1?t[e].quantity-=1:t.splice(e,1),n(t,"items")}}),a.items.length>0&&r.a.createElement("h6",null,"Total weight: ",function(){var e=0;return a.items.forEach((function(t){e+=t.quantity*t.weight})),e}()," kg")),r.a.createElement("div",{className:"items-menu"},r.a.createElement(I,null,"Select Item"),r.a.createElement(M,{options:t,onSubmit:function(e){var t=Object(P.a)(a.items),r=t.findIndex((function(t){return t._id===e._id}));r>-1?t[r].quantity+=1:t.push(Object(J.a)(Object(J.a)({},e),{},{quantity:1})),n(t,"items")},useObjects:!0,optionKey:"name",children:r.a.createElement($.a,{size:"sm",color:"primary",style:{marginTop:"10px"},type:"submit"},"Add"),inputStyle:{height:"200px"}}))))},we={orderUrl:"",carrier:null,account:null,items:[]};var Ne=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!0),o=Object(d.a)(l,2),i=o[0],m=o[1],u=Object(n.useReducer)(Q,we),p=Object(d.a)(u,2),E=p[0],h=p[1],f=Object(n.useState)([]),b=Object(d.a)(f,2),v=b[0],g=b[1],y=Object(n.useState)([]),O=Object(d.a)(y,2),j=O[0],C=O[1];function S(){return(S=Object(he.a)(Ee.a.mark((function e(){return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K().then((function(e){C(e)}));case 2:return e.next=4,H().then((function(e){g(e),k(e[0],"carrier")}));case 4:c(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){"carrier"===t?h({carrier:e,account:e.accounts?e.accounts[0]:null}):"items"===t&&h({items:e})}function _(){m(!i)}return Object(n.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Create Shipment"),a?r.a.createElement(R,{style:{marginTop:"120px"}}):i?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{carriers:v,formState:E,updateFormState:k,onFormChange:function(e){var t=e.target,a=t.name,n=t.value;h(Object(Oe.a)({},a,n))}}),r.a.createElement($.a,{onClick:_},"Next")):r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{items:j,formState:E,updateFormState:k}),r.a.createElement("div",{className:"centered-parent"},r.a.createElement($.a,{color:"danger",onClick:_},"Back"),r.a.createElement($.a,{onClick:function(){s.b.dark("Creating shipment..."),function(e){var t=e.shipment,a="".concat(U,"/shipping/create/"),n={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)};return fetch(a,n).then(W).catch((function(e){return console.error(e)}))}({shipment:{orderUrl:E.orderUrl,carrier:E.carrier.name,account:E.account,items:E.items}}).then((function(e){e.error?s.b.dark(e.message):(s.b.dark("Created"),m(!0),h(Object(J.a)(Object(J.a)({},we),{},{carrier:v[0],account:v[0].accounts})))}))}},"Create"))))};a(174);var De=function(e){var t=e.item,a=e.onClick,n=e.formState,c=t.name;return r.a.createElement("span",{className:t._id===n._id?"item-selected item":"item",onClick:function(){return a(t)}},c)},Te=a(349),Ye=a(350);var Ie=function(e){var t=e.formState,a=e.onFormChange,n=t.name,c=t.height,l=t.width,o=t.length,i=t.weight;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Te.a,null,r.a.createElement(Ye.a,null,"Name"),r.a.createElement(x.a,{type:"text",name:"name",value:n,onChange:a})),r.a.createElement(Te.a,null,r.a.createElement(Ye.a,null,"Height (cm)"),r.a.createElement(x.a,{name:"height",type:"number",min:0,value:c,onChange:a})),r.a.createElement(Te.a,null,r.a.createElement(Ye.a,null,"Width (cm)"),r.a.createElement(x.a,{name:"width",type:"number",min:0,value:l,onChange:a})),r.a.createElement(Te.a,null,r.a.createElement(Ye.a,null,"Length (cm)"),r.a.createElement(x.a,{name:"length",type:"number",min:0,value:o,onChange:a})),r.a.createElement(Te.a,null,r.a.createElement(Ye.a,null,"Weight (kg)"),r.a.createElement(x.a,{name:"weight",type:"number",min:0,value:i,onChange:a})))},Fe={_id:null,name:"",height:"",width:"",length:"",weight:""};var qe=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),o=Object(d.a)(l,2),i=o[0],m=o[1],u=Object(n.useReducer)(Q,Fe),p=Object(d.a)(u,2),E=p[0],h=p[1];function f(e){var t=e.target,a=t.name,n=t.value;h(Object(Oe.a)({},a,n))}function b(e){var t=e.target.name,a={id:E._id?E._id.$oid:null,item:{name:E.name,height:E.height,width:E.width,length:E.length,weight:E.weight}};(function(){var e=E.name,t=E.height,a=E.width,n=E.length,r=E.weight;return""!==e&&""!==t&&""!==a&&""!==r&&""!==n||(s.b.dark("Form elements cannot be empty."),!1)})()&&("delete"===t?function(e){var t=e.id,a="".concat(U,"/shipping/items?id=").concat(t);return fetch(a,{method:"DELETE"}).then(W).catch((function(e){return console.error(e)}))}(a).then((function(e){e.error?s.b.dark(e.message):v(e)})):function(e){var t=e.id,a=e.item,n="".concat(U,"/shipping/items");t&&(n+="?id=".concat(t));var r={method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)};return fetch(n,r).then(W).catch((function(e){return console.error(e)}))}(a).then((function(e){e.error?s.b.dark(e.message):v(e)})))}function v(e){var t=Object(P.a)(i);if("created"===e.status)h(e.item),t.push(e.item);else if("updated"===e.status){t[i.findIndex((function(t){return t._id.$oid===e.item._id.$oid}))]=e.item}else"deleted"===e.status&&(t=i.filter((function(t){return t._id.$oid!==e._id})),h(Fe));m(t)}return Object(n.useEffect)((function(){K().then((function(e){m(e),c(!1)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(F,null,"Edit Items"),a?r.a.createElement(R,{style:{marginTop:"120px"}}):r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{color:"primary",size:"sm",onClick:function(){h(Fe)}},"Create Item"),r.a.createElement("div",{className:"items-menu-container"},r.a.createElement("div",{className:"items-menu"},r.a.createElement(I,null,"Items"),i.map((function(e,t){return r.a.createElement(De,{key:t,item:e,onClick:h,formState:E})}))),r.a.createElement("div",{className:"items-form"},E._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"Edit Item"),r.a.createElement(Ie,{formState:E,onFormChange:f}),r.a.createElement("div",{className:"centered-parent"},r.a.createElement($.a,{name:"delete",color:"danger",onClick:b},"Delete"),r.a.createElement($.a,{name:"update",onClick:b},"Update"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,"Create Item"),r.a.createElement(Ie,{formState:E,onFormChange:f}),r.a.createElement($.a,{name:"create",onClick:b},"Create"))))))};a(329);var Me=function(){var e=Object(n.useState)([]),t=Object(d.a)(e,2);return t[0],t[1],Object(n.useEffect)((function(){}),[]),r.a.createElement("div",{className:"container"},r.a.createElement(F,null,r.a.createElement("span",null,"Deliveries")),r.a.createElement("div",{className:"month-wrapper"},r.a.createElement("span",null,"Monday"),r.a.createElement("span",null,"Tuesday"),r.a.createElement("span",null,"Wednesday"),r.a.createElement("span",null,"Thursday"),r.a.createElement("span",null,"Friday"),r.a.createElement("span",null,"Saturday"),r.a.createElement("span",null,"Sunday"),function(){for(var e=[],t=0;t<35;t++)e.push(r.a.createElement("div",{key:t},t));return e}()))};var Re=function(){return r.a.createElement(F,null,"404 - Page not found")};m.b.add({faUpload:u.e,faPlus:u.b,faPencilAlt:u.a,faTrashAlt:u.d,faTimes:u.c});var Ae=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(o.a,null,r.a.createElement(C,null),r.a.createElement(s.a,{hideProgressBar:!0,autoClose:3e3}),r.a.createElement("div",{className:"wrapper"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:A}),r.a.createElement(i.a,{path:"/update",component:me}),r.a.createElement(i.a,{path:"/import/",component:ie}),r.a.createElement(i.a,{path:"/bandq/turnover",component:de}),r.a.createElement(i.a,{path:"/bandq/orderwell",component:be}),r.a.createElement(i.a,{path:"/bandq/comparison",component:ye}),r.a.createElement(i.a,{path:"/shipping/create",component:Ne}),r.a.createElement(i.a,{path:"/shipping/items",component:qe}),r.a.createElement(i.a,{path:"/deliveries",component:Me}),r.a.createElement(i.a,{component:Re})))))};l.a.render(r.a.createElement(Ae,null),document.getElementById("root"))},64:function(e,t,a){},75:function(e,t,a){},92:function(e,t,a){}},[[331,1,2]]]);
//# sourceMappingURL=main.86f16c71.chunk.js.map